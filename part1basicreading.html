<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading - Lessons & Exercises</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .lesson-section {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .lesson-section h2 {
            font-size: 1.75rem;
            font-weight: 700;
            color: #1e3a8a;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }
        .lesson-section h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 0.75rem;
        }
        .lesson-section p {
            line-height: 1.6;
            color: #4b5563;
            margin-bottom: 1rem;
        }
        .exercise-box {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }
        .passage-box {
            background-color: #fff;
            border: 1px solid #e5e7eb;
            padding: 1rem;
            border-radius: 0.5rem;
            font-style: italic;
            color: #374151;
        }
        .question-input {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            transition: border-color 0.2s;
        }
        .question-input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 1px #4f46e5;
        }
        .correct {
            border-color: #10b981 !important;
            background-color: #f0fdf4;
        }
        .incorrect {
            border-color: #ef4444 !important;
            background-color: #fef2f2;
        }
        .correct-answer-text {
            color: #10b981;
            font-weight: 600;
        }
        .tab-button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem 0.5rem 0 0;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
            border-bottom: none;
        }
        .tab-button.active {
            background-color: #1e3a8a;
            color: white;
        }
        .tab-button:not(.active) {
            background-color: #f3f4f6;
            color: #6b7280;
        }
        mark {
            border-radius: 0.25rem;
            padding: 0.1rem 0.2rem;
            cursor: pointer;
        }
        .color-swatch {
            width: 2rem;
            height: 2rem;
            border-radius: 9999px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.2s;
        }
        .color-swatch.active {
            border-color: #4f46e5;
            box-shadow: 0 0 0 2px white;
        }
        .vocab-word {
            position: relative;
            border-bottom: 1px dotted #4338ca;
            cursor: help;
            font-weight: 600;
            color: #4338ca;
        }
        .vocab-word .vocab-tooltip {
            visibility: hidden;
            width: max-content;
            max-width: 200px;
            background-color: #1f2937;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 10;
            bottom: 135%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-style: normal;
            font-weight: 400;
            font-size: 0.875rem;
        }
        .vocab-word:hover .vocab-tooltip {
            visibility: visible;
            opacity: 1;
        }
        .vocab-word .vocab-tooltip::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto flex gap-x-8">
        <!-- Main Content -->
        <div class="flex-grow">
            <header class="text-center mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800">IELTS Reading: Lessons & Exercises</h1>
                <p class="text-gray-600 mt-2">Interactive guide to question types and reading tips.</p>
            </header>

            <!-- Tabs for Units -->
            <div class="flex border-b border-gray-200">
                <button id="tab1" class="tab-button active" onclick="switchUnit(1)">Unit 1: Question Types</button>
                <button id="tab2" class="tab-button" onclick="switchUnit(2)">Unit 2: Reading Tips (1)</button>
                <button id="tab3" class="tab-button" onclick="switchUnit(3)">Unit 3: Reading Tips (2)</button>
            </div>

            <div id="unit-container" class="mt-6">
                <!-- Content for units will be loaded here -->
            </div>
        </div>
        
        <!-- Right-side Toolbar -->
        <div class="w-40 flex-shrink-0 sticky top-8 self-start">
            <div class="bg-white p-4 rounded-lg shadow-lg border space-y-6">
                <h4 class="text-lg font-bold text-gray-800 text-center">Tools</h4>
                <div class="space-y-2">
                    <p class="text-sm font-semibold text-gray-600">Highlight Color</p>
                    <div id="color-palette" class="flex flex-wrap gap-2 color-palette">
                        <button class="color-swatch active" style="background-color: #fef08a;" onclick="selectHighlightColor('#fef08a', this)"></button>
                        <button class="color-swatch" style="background-color: #bae6fd;" onclick="selectHighlightColor('#bae6fd', this)"></button>
                        <button class="color-swatch" style="background-color: #bbf7d0;" onclick="selectHighlightColor('#bbf7d0', this)"></button>
                        <button class="color-swatch" style="background-color: #fbcfe8;" onclick="selectHighlightColor('#fbcfe8', this)"></button>
                    </div>
                </div>
                <div class="space-y-2">
                     <button onclick="highlightSelection()" class="w-full bg-indigo-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition">Apply Highlight</button>
                     <button onclick="clearAllHighlights()" class="w-full mt-2 text-sm text-gray-500 hover:text-indigo-600">Clear All Highlights</button>
                </div>
                <div class="space-y-2">
                    <p class="text-sm font-semibold text-gray-600">Text Size</p>
                    <div class="flex items-center justify-center space-x-2">
                        <button onclick="changeFontSize(-1)" class="bg-gray-200 w-8 h-8 rounded-full text-lg font-bold hover:bg-gray-300">-</button>
                        <button onclick="changeFontSize(1)" class="bg-gray-200 w-8 h-8 rounded-full text-lg font-bold hover:bg-gray-300">+</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
    // --- DATA & STATE MANAGEMENT ---
    let selectedHighlightColor = '#fef08a'; // Default: yellow

    const units = {
        1: {
            title: "Unit 1: IELTS Reading Question Types",
            content: `
                <div class="lesson-section">
                    <h2>1. Multiple-Choice Questions</h2>
                    <p>Multiple-Choice Questions are designed to test a wide variety of reading skills. The questions may require you to have an overall understanding of the main points of the text or a detailed understanding of particular points. They may also ask you to identify facts or opinions.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex1">
                            <p>The main <span class="vocab-word" data-pos="n." data-translation="các yếu tố">elements</span> required for <span class="vocab-word" data-pos="n." data-translation="sự sống còn">survival</span> are food, fire, shelter and water. Their order of importance will <span class="vocab-word" data-pos="phr. v." data-translation="phụ thuộc vào">depend upon</span> where you happen to be. In the desert water will head the list; in <span class="vocab-word" data-pos="n. phr." data-translation="vùng cực">polar regions</span> shelter and fire will be the main <span class="vocab-word" data-pos="n." data-translation="mối quan tâm">concerns</span>. Ordering your <span class="vocab-word" data-pos="n." data-translation="sự ưu tiên">priorities</span> is the first step to survival.</p>
                            <p>It takes a healthy person quite a long time to die of <span class="vocab-word" data-pos="n." data-translation="sự chết đói">starvation</span>, for the body can use up its stored <span class="vocab-word" data-pos="n." data-translation="tài nguyên">resources</span>, but <span class="vocab-word" data-pos="n." data-translation="sự phơi bày, tiếp xúc">exposure</span> to wind, rain and cold can be <span class="vocab-word" data-pos="adj." data-translation="gây chết người">fatal</span> even in mild <span class="vocab-word" data-pos="n." data-translation="khí hậu">climates</span> and death comes in only minutes in the icy waters of the poles. Food is rarely the first priority. Even in those places where it is difficult to find, there are usually other problems to face first. Shelter will often be the <span class="vocab-word" data-pos="n. phr." data-translation="nhu cầu thiết yếu hàng đầu">prime necessity</span> in <span class="vocab-word" data-pos="n." data-translation="sự khắc nghiệt">extremes</span> of climate or temperatures such as in the frozen polar regions or in the baking deserts. The need for fire is closely linked.</p>
                            <p>Water is something that most people in the modern world <span class="vocab-word" data-pos="idiom" data-translation="coi là điều hiển nhiên">take for granted</span>. They are so used to turning on a tap that until an extreme <span class="vocab-word" data-pos="n." data-translation="hạn hán">drought</span> causes water <span class="vocab-word" data-pos="n." data-translation="sự phân phối, cấp hạn chế">rationing</span> they seldom think about it. Yet the survivor at sea, or after a flood, though surrounded by water, may be <span class="vocab-word" data-pos="adj." data-translation="tuyệt vọng, rất cần">desperate for</span> drinkable water. And there are many places where, unless it rains, no <span class="vocab-word" data-pos="adj." data-translation="rõ ràng, hiển nhiên">obvious</span> water is available. Although there could be other survival necessities to deal with, water is always <span class="vocab-word" data-pos="adv." data-translation="một cách phổ biến, toàn cầu">universally</span> important.</p>
                        </div>
                        <div class="mt-4 space-y-4" id="ex1">
                            <div>
                                <label class="block text-sm font-medium text-gray-700">1. The factor which decides the order of importance of the main elements required for survival is</label>
                                <select class="question-input mt-1" data-answer="B"><option value="">Select...</option><option value="A">A. your health.</option><option value="B">B. your location.</option><option value="C">C. your job.</option><option value="D">D. your strength.</option></select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">2. The basic need that may NOT be equally important as the others in extremely cold places is</label>
                                <select class="question-input mt-1" data-answer="A"><option value="">Select...</option><option value="A">A. water.</option><option value="B">B. shelter.</option><option value="C">C. fire.</option><option value="D">D. none of above.</option></select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">3. Fire is described as</label>
                                <select class="question-input mt-1" data-answer="D"><option value="">Select...</option><option value="A">A. universally important.</option><option value="B">B. being taken for granted.</option><option value="C">C. the prime necessity.</option><option value="D">D. closely linked with shelter.</option></select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">4. According to the passage, which of the following statements is TRUE?</label>
                                <select class="question-input mt-1" data-answer="B"><option value="">Select...</option><option value="A">A. Exposure to wind is not dangerous in mild climates.</option><option value="B">B. People may die quickly in the water of polar regions.</option><option value="C">C. Looking for food is the first thing to do most of the time.</option><option value="D">D. Survivors after a flood won't need water for drinking.</option></select>
                            </div>
                            <button onclick="checkAnswers('ex1')" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>

                <div class="lesson-section">
                    <h2>2. Short-Answer Questions</h2>
                    <p>This question type asks you to write an answer of between one and four words, usually with the instruction 'NO MORE THAN THREE WORDS'. Spelling must be correct.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex2">
                            <h4>The Peace Corps</h4>
                            <p>On March 1, 1961, President John F. Kennedy <span class="vocab-word" data-pos="v. phr." data-translation="ban hành một mệnh lệnh">issued an order</span> creating the Peace Corps. Its <span class="vocab-word" data-pos="n." data-translation="sứ mệnh">mission</span> was to <span class="vocab-word" data-pos="v." data-translation="thúc đẩy">promote</span> world peace and friendship by providing <span class="vocab-word" data-pos="n. phr." data-translation="tình nguyện viên đủ tiêu chuẩn">qualified volunteers</span> to interested countries. Today it sends an average of 6,000 U.S. citizens abroad each year.</p>
                            <p>Volunteers live at a <span class="vocab-word" data-pos="n. phr." data-translation="cấp địa phương">local level</span> in their <span class="vocab-word" data-pos="n. phr." data-translation="các nước chủ nhà">host countries</span>. They are paid in local <span class="vocab-word" data-pos="n." data-translation="tiền tệ">currency</span>. Each month they receive a small sum of money that <span class="vocab-word" data-pos="v." data-translation="chi trả">covers</span> <span class="vocab-word" data-pos="n. phr." data-translation="chi phí sinh hoạt cơ bản">basic living expenses</span>, and <span class="vocab-word" data-pos="v. phr." data-translation="thay đổi tùy theo">varies with</span> the local economy. For example, volunteers in Micronesia make the <span class="vocab-word" data-pos="n. phr." data-translation="tương đương với">equivalent of</span> $300 per month, while those in Turkmenistan make $75. Most volunteers live with host families. This is a great chance to learn the language and the culture.</p>
                            <p>For each month that they spend overseas, volunteers receive a sum of about $200. This money helps them to <span class="vocab-word" data-pos="idiom" data-translation="đứng vững trở lại (tài chính)">get back on their feet</span> in the United States.</p>
                            <p>Serving countries all over the world, the Peace Corps <span class="vocab-word" data-pos="idiom" data-translation="thực hiện đúng lời hứa">lives up to its promise</span> as "the toughest job you'll ever love." Volunteers do everything from teaching English to sharing tips on growing food to providing <span class="vocab-word" data-pos="n. phr." data-translation="chăm sóc sức khỏe phòng ngừa">preventive health care</span>. However, the <span class="vocab-word" data-pos="n. phr." data-translation="quy trình nộp đơn">application process</span> to become a Peace Corps volunteer is very <span class="vocab-word" data-pos="adj." data-translation="cạnh tranh">competitive</span>. You must be a U.S. citizen, at least eighteen years old, in good health, and willing to serve for two years. Nearly all volunteers have a <span class="vocab-word" data-pos="n. phr." data-translation="bằng cử nhân">bachelor's degree</span> in their chosen field, and about 18 percent have their master's or doctorate degrees. Knowing a language, especially French and Spanish, helps.</p>
                        </div>
                        <div class="mt-4 space-y-4" id="ex2">
                            <p class="text-sm font-semibold">Answer with NO MORE THAN THREE WORDS from the passage.</p>
                            <div><label class="block text-sm">1. What kind of U.S. citizens does the Peace Corps send abroad to fulfil its mission?</label><input class="question-input mt-1" data-answer="qualified volunteers"></div>
                            <div><label class="block text-sm">2. What does the monthly payment in local currency to volunteers cover?</label><input class="question-input mt-1" data-answer="basic living expenses"></div>
                            <div><label class="block text-sm">3. Whom do the volunteers stay with in their host countries?</label><input class="question-input mt-1" data-answer="host families"></div>
                            <div><label class="block text-sm">4. What is the shortest time that volunteers can work for the Peace Corps?</label><input class="question-input mt-1" data-answer="two years"></div>
                            <div><label class="block text-sm">5. Which languages are given as an example of what can benefit volunteers?</label><input class="question-input mt-1" data-answer="French and Spanish"></div>
                            <button onclick="checkAnswers('ex2')" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>

                <div class="lesson-section">
                    <h2>3. Sentence-Completion Questions</h2>
                    <p>These questions test your ability to find details to complete sentences. You will be provided with a number of incomplete sentences which you need to complete, using information from the passage, usually in three words or fewer.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex3">
                             <h4>Solar Collector</h4>
                            <p>Solar collectors <span class="vocab-word" data-pos="v." data-translation="hấp thụ">absorb</span> heat from the sun's rays. They can be used to <span class="vocab-word" data-pos="adv." data-translation="một cách hiệu quả">effectively</span> heat and cool buildings. The most common type of collector for space heating is a flat plate designed to absorb both <span class="vocab-word" data-pos="n." data-translation="bức xạ">radiation</span> falling directly on it, as well as radiation <span class="vocab-word" data-pos="v." data-translation="phân tán">scattered</span> by the <span class="vocab-word" data-pos="n." data-translation="khí quyển">atmosphere</span>.</p>
                            <p>Collectors are usually panels of aluminium, copper, or steel. The panels are usually painted black. The black colouring <span class="vocab-word" data-pos="v." data-translation="ngăn chặn, ức chế">inhibits</span> <span class="vocab-word" data-pos="n." data-translation="sự phản xạ">reflection</span> and <span class="vocab-word" data-pos="v." data-translation="khuyến khích">encourages</span> <span class="vocab-word" data-pos="n." data-translation="sự hấp thụ">absorption</span>. <span class="vocab-word" data-pos="n." data-translation="sự cách nhiệt">Insulation</span> is placed behind the collector to prevent heat loss.</p>
                            <p>The collector is covered with glass or plastic. This layer allows short-wave radiation or light to enter the collector. As the radiation passes through the glass or plastic, it is <span class="vocab-word" data-pos="v." data-translation="biến đổi">transformed</span> from short-wave radiation to long-wave radiation - or heat. Long-wave radiation cannot pass through the glass or plastic back into the atmosphere. Therefore, the heat is <span class="vocab-word" data-pos="v." data-translation="bị giữ lại, bị bẫy">trapped</span> within the collector. Collectors are usually placed at an angle to <span class="vocab-word" data-pos="v." data-translation="tối đa hóa">maximise</span> the amount of radiation falling on them.</p>
                            <p>A <span class="vocab-word" data-pos="n. phr." data-translation="chất tải (nhiệt)">transfer agent</span> (air or water) is <span class="vocab-word" data-pos="v." data-translation="được lưu thông">circulated</span> through the collector and becomes heated. As it leaves the collector and travels through the heating <span class="vocab-word" data-pos="n." data-translation="ống dẫn">ducts</span> of a house, it warms the air inside the house or brings hot water to sinks, tubs, and appliances. With solar collectors, storage is a problem: great amounts of heat must be stored for nighttime use and for use during cloudy days.</p>
                        </div>
                        <div class="mt-4 space-y-4" id="ex3">
                            <p class="text-sm font-semibold">Complete with NO MORE THAN THREE WORDS from the passage.</p>
                            <p>1. Solar collectors can heat and cool houses with heat absorbed from <input class="question-input inline-block w-auto" data-answer="the sun's rays">.</p>
                            <p>2. Collectors are coloured black to prevent <input class="question-input inline-block w-auto" data-answer="reflection">.</p>
                            <p>3. Glass and plastic are used to cover the collector so that short-wave radiation can <input class="question-input inline-block w-auto" data-answer="enter the collector">.</p>
                            <p>4. The glass or plastic cover on the collector helps to trap the <input class="question-input inline-block w-auto" data-answer="heat">.</p>
                            <p>5. For nighttime and cloudy days, heat needs to be <input class="question-input inline-block w-auto" data-answer="stored">.</p>
                            <button onclick="checkAnswers('ex3')" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>

                <div class="lesson-section">
                    <h2>4. Note/Summary/Diagram/Flow Chart/Table-Completion</h2>
                    <p>These questions test your ability to locate and identify particular details in a reading passage to fill in missing information in various formats.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex4">
                            <h4>How to Borrow Books</h4>
                            <p>Most libraries require you to <span class="vocab-word" data-pos="v." data-translation="đăng ký">register</span> before you are allowed to borrow any of their <span class="vocab-word" data-pos="n." data-translation="tài liệu">materials</span>. This means you will probably be asked to fill out and sign a <span class="vocab-word" data-pos="n. phr." data-translation="thẻ đăng ký">registration card</span>. When you do this, you are not only giving the library your name and address for their files, you are also signing an <span class="vocab-word" data-pos="n." data-translation="hợp đồng, thỏa thuận">agreement</span>. The agreement says, basically, that you will <span class="vocab-word" data-pos="v." data-translation="tuân theo">obey</span> the rules of the library. A parent or <span class="vocab-word" data-pos="n." data-translation="người giám hộ">guardian</span> is sometimes also required to sign the card.</p>
                            <p>To be <span class="vocab-word" data-pos="adj." data-translation="có quyền">entitled to</span> use your school library, you probably must only be <span class="vocab-word" data-pos="v." data-translation="đã ghi danh vào">enrolled in</span> that school. Once you are registered, you will be <span class="vocab-word" data-pos="v." data-translation="được cấp">issued</span> a library or borrower's card. On this card will be your name and a number. Each time you <span class="vocab-word" data-pos="phr. v." data-translation="mượn (sách)">check out</span>, that is, officially borrow something from the library, you will have to present this card to the librarian.</p>
                            <p>If your library is large enough, it may have <span class="vocab-word" data-pos="n. phr." data-translation="thiết bị chiếu phim">film equipment</span> that you may borrow. To do so, however, the library usually requires a <span class="vocab-word" data-pos="adj." data-translation="riêng biệt">separate</span> registration. You may also have to take and pass a course the library gives on how to <span class="vocab-word" data-pos="v." data-translation="vận hành">operate</span> the different pieces of equipment.</p>
                            <p>You usually check out and return borrowed materials at the same desk. The sign on this desk may read <span class="vocab-word" data-pos="n. phr." data-translation="quầy lưu hành">Circulation Desk</span>, Check Out Here, or perhaps Charge Desk.</p>
                            <p>The library staff member at this desk will take your card and stamp the book card with a date. This is the date by which you are expected to return the material to the library, so others can have the chance of borrowing it. Many libraries allow you to <span class="vocab-word" data-pos="v." data-translation="gia hạn">renew</span> the book if it has not been requested by others.</p>
                            <p>Some libraries charge a fine for each day a library book is <span class="vocab-word" data-pos="adj." data-translation="quá hạn">overdue</span>, kept out beyond the date stamped on the book card. There are also often <span class="vocab-word" data-pos="n." data-translation="tiền phạt">fines</span> for books returned damaged or written in. Should you lose a library book, you may be required to pay the library the amount it was worth. Not paying fines could result in your losing all library <span class="vocab-word" data-pos="n." data-translation="đặc quyền">privileges</span>.</p>
                        </div>
                        <div class="mt-4 space-y-4" id="ex4">
                            <p class="text-sm font-semibold">Complete the summary with NO MORE THAN THREE WORDS from the passage.</p>
                            <p>Most libraries require you to register before you borrow any books. First of all, you will need to fill out and sign 1. <input class="question-input inline-block w-auto" data-answer="a registration card"> and while doing so, you are also 2. <input class="question-input inline-block w-auto" data-answer="signing an agreement"> with the library. Later each time you check out, you will have to present a library card to the librarian. In some libraries, you will be required to make a separate registration if you want to borrow 3. <input class="question-input inline-block w-auto" data-answer="film equipment"> and at the same time, you will have to take and 4. <input class="question-input inline-block w-auto" data-answer="pass a course"> on how to operate the equipment. When you borrow library books, the librarian will put a 5. <input class="question-input inline-block w-auto" data-answer="date"> on the book card so that you know when to return them. If you want to keep the books longer, you can 6. <input class="question-input inline-block w-auto" data-answer="renew the book"> it if nobody requests them.</p>
                            <button onclick="checkAnswers('ex4')" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>

                <div class="lesson-section">
                    <h2>5. Choosing from a Heading Bank</h2>
                    <p>This type of question tests your ability to identify the main ideas of paragraphs. You will be given a list of headings and you must find the most suitable heading for each paragraph.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex5">
                            <p><strong>Paragraph A:</strong> The Cancer-Prone Personality. One of the reasons scientists think that there is a link between stress and cancer is the idea that there may be a cancer-prone personality. The cancer-prone personality consists of a set of personality traits that are found more frequently in people who have cancer than in those who do not.</p>
                            <p><strong>Paragraph B:</strong> What personality traits make up the cancer-prone personality? Most often, people who are polite, unaggressive, and agreeable are said to have this type of personality. They seem to have trouble showing when they are angry. Even in situations in which they should be angry, they appear to be calm and happy.</p>
                            <p><strong>Paragraph C:</strong> When faced with a stressful event, people with the cancer-prone personality do not show stress outwardly. Instead, they keep their emotions bottled inside. They repress, or hide, their emotions, even from themselves.</p>
                            <p><strong>Paragraph D:</strong> The cancer-prone personality is linked to the likelihood of getting cancer, and the same personality traits seem to help affect a cancer victim's recovery. For example, some studies have looked at cancer patients who accept the cancer without getting angry. These patients get sick faster and they die sooner than people who became angry at their cancer and fight the disease.</p>
                            <p><strong>Paragraph E:</strong> However, it is important to keep in mind that some scientists interpret these research findings differently. First of all, not everyone who has a cancer-prone personality gets cancer. And not everyone who has cancer has a cancer-prone personality. Even more important, there is no proof that having a cancer-prone personality causes cancer. In fact, it may be the other way around: getting cancer may cause people to develop a cancer-prone personality.</p>
                        </div>
                        <div class="mt-4" id="ex5">
                            <p class="font-semibold">List of Headings</p>
                            <ul class="list-disc list-inside text-sm mb-4">
                                <li>I. Get angry, live longer</li>
                                <li>II. Nothing to see on the surface</li>
                                <li>III. Try to overcome anger</li>
                                <li>IV. Which one causes which?</li>
                                <li>V. Who is likely to get cancer?</li>
                                <li>VI. Why join stress and cancer?</li>
                                <li>VII. Scientists agree</li>
                            </ul>
                            <div class="space-y-2">
                                <div><label>1. Paragraph A</label><select class="question-input" data-answer="VI"><option value="">Select...</option><option value="I">I</option><option value="II">II</option><option value="III">III</option><option value="IV">IV</option><option value="V">V</option><option value="VI">VI</option><option value="VII">VII</option></select></div>
                                <div><label>2. Paragraph B</label><select class="question-input" data-answer="V"><option value="">Select...</option><option value="I">I</option><option value="II">II</option><option value="III">III</option><option value="IV">IV</option><option value="V">V</option><option value="VI">VI</option><option value="VII">VII</option></select></div>
                                <div><label>3. Paragraph C</label><select class="question-input" data-answer="II"><option value="">Select...</option><option value="I">I</option><option value="II">II</option><option value="III">III</option><option value="IV">IV</option><option value="V">V</option><option value="VI">VI</option><option value="VII">VII</option></select></div>
                                <div><label>4. Paragraph D</label><select class="question-input" data-answer="I"><option value="">Select...</option><option value="I">I</option><option value="II">II</option><option value="III">III</option><option value="IV">IV</option><option value="V">V</option><option value="VI">VI</option><option value="VII">VII</option></select></div>
                                <div><label>5. Paragraph E</label><select class="question-input" data-answer="IV"><option value="">Select...</option><option value="I">I</option><option value="II">II</option><option value="III">III</option><option value="IV">IV</option><option value="V">V</option><option value="VI">VI</option><option value="VII">VII</option></select></div>
                            </div>
                            <button onclick="checkAnswers('ex5')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>

                <div class="lesson-section">
                    <h2>6. Yes/No/Not Given & True/False/Not Given</h2>
                    <p>These tasks ask you to identify the writer's viewpoints or claims (Yes/No/Not Given) or identify information (True/False/Not Given) in the passage.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex6">
                            <h4>Friends of the Earth Trust</h4>
                            <p>Friends of the Earth Trust is an educational charity set up to help people of all ages become aware of the threats to our environment. Pollution is just one of these. The destruction of wildlife and wasting our natural resources are others.</p>
                            <p>In Britain, the countryside is disappearing or being destroyed - modern farming, mining, motorways and power stations are all adding to this destruction. By the year 2010, about half the world's animal and plant species could be extinct.</p>
                            <p>Every year a forest the size of Wales is cut down to make paper for use in Britain. If more people used recycled paper, fewer trees would be cut down, and there would be less waste to dispose of. Another important benefit would be the new jobs created in the collection of waste paper.</p>
                            <p>New jobs would also be created if there was a large programme to save energy in buildings. It is cheaper to save energy than to produce electricity, but vast amounts of money are spent on nuclear power. From the mining of uranium to the disposal of radioactive waste, there are a number of threats to the environment. In addition, there are close connections between nuclear power and nuclear weapons. There are safer sources of energy.</p>
                            <p>Energy could also be saved if more short journeys were made by bicycle. This would reduce pollution and traffic congestion. Cycleways should be built to make cycling safer.</p>
                            <p>The threats to our environment are all related. For instance, building cycleways instead of unnecessary new roads would save energy and reduce pollution and the destruction of our wildlife.</p>
                        </div>
                        <div class="mt-4 space-y-4" id="ex6">
                            <p class="text-sm font-semibold">Write YES, NO, or NOT GIVEN.</p>
                            <div><label>1. Friends of the Earth Trust organises lots of activities to help people understand the environmental problems.</label><input class="question-input mt-1" data-answer="NOT GIVEN"></div>
                            <div><label>2. The forest cut down every year to make paper in Britain is bigger than the size of Wales is.</label><input class="question-input mt-1" data-answer="NO"></div>
                            <div><label>3. Using recycled paper and saving energy in buildings can both create new jobs.</label><input class="question-input mt-1" data-answer="YES"></div>
                            <div><label>4. It is more difficult to save energy than to produce it.</label><input class="question-input mt-1" data-answer="NO"></div>
                            <div><label>5. People can reduce pollution and traffic jams by using more bicycles on short journeys.</label><input class="question-input mt-1" data-answer="YES"></div>
                            <button onclick="checkAnswers('ex6')" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>

                <div class="lesson-section">
                    <h2>7. Classification</h2>
                    <p>This question type asks you to classify information given in a reading passage according to categories like a writer's opinion, a period of time, or a place.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex7">
                            <p>When you visit a supermarket you probably think you know exactly what you are going to buy, but the truth is you are very easily persuaded. Over half the decisions you make are made suddenly, on impulse, while you are inside the store, so it is important that a product is displayed in an eye-catching position if it is to have any chance of success.</p>
                            <p>Today's supermarkets invest millions of pounds in powerful computers which tell them what product sells best and where. "Space management" is the name given to a highly complicated way of influencing the way we shop to make sure that stores make the maximum profit.</p>
                            <p>You walk into a supermarket... You are faced with possibly the widest choice of food and drink in the world. But over the next hour or so, you will shop in a completely predictable way. This is what the space management teams who work for supermarkets have found out. They believe that everything depends on the following rules about our behaviour in supermarkets:</p>
                            <p>The modern supermarket offers too many images for our brains to absorb so we switch off and notice only parts of the goods on display. A product will be more noticeable in some parts of the store than others, so manufacturers and retailers must work hard to attract our attention.</p>
                            <p>In general, products sell best when they are placed at eye level.</p>
                            <p>Products placed at the beginnings of aisles don't sell well. In tests, secret fixed cameras have filmed shoppers' movements around a store over a seven-day period. When the film is speeded up, it clearly shows that we walk straight past these areas on our way to the centre of the aisle. These early shelves are known as "the graveyard".</p>
                            <p>When we finally stop to consider in the centre of an aisle, we look along the length of it. And because we read from left to right, we look from left to right too. So, we see products displayed on the left side of the aisle first. As a result, more products are taken from those shelves.</p>
                            <p>Any spot where the supermarket can be sure we are going to stand still and concentrate for more than a few seconds is good for sales. That is why the shelves at the check-out have long been a favourite for manufacturers of sweets, perhaps the most popular "impulse" buy of all.</p>
                        </div>
                        <div class="mt-4" id="ex7">
                             <p class="font-semibold">Classify the following places. Write:</p>
                             <ul class="list-disc list-inside text-sm mb-4">
                                <li><b>A</b> for places where products tend to sell well</li>
                                <li><b>B</b> for places which tend to be neglected by the customers</li>
                                <li><b>C</b> for places not mentioned in the passage</li>
                            </ul>
                            <div class="space-y-2">
                                <div><label>1. shelves which are at the same level as your eyes</label><select class="question-input" data-answer="A"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option></select></div>
                                <div><label>2. shelves along the left wall of the supermarket</label><select class="question-input" data-answer="C"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option></select></div>
                                <div><label>3. shelves at the beginning of an aisle</label><select class="question-input" data-answer="B"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option></select></div>
                                <div><label>4. left-side shelves in the middle of an aisle</label><select class="question-input" data-answer="A"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option></select></div>
                                <div><label>5. shelves by the cashiers</label><select class="question-input" data-answer="A"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option></select></div>
                                <div><label>6. shelves along the middle aisle</label><select class="question-input" data-answer="C"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option></select></div>
                            </div>
                            <button onclick="checkAnswers('ex7')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>

                <div class="lesson-section">
                    <h2>8. Matching Lists/Phrases</h2>
                    <p>This task is similar to Sentence-Completion. You will be provided with two lists and your job is to match one half of a sentence to the other half.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex8">
                            <h4>Crowding Human Life</h4>
                            <p>In 1950, there were only 2.5 billion people in the world. Now there are 5.3 billion. Human population may reach 8.5 billion by the year 2025. Experts disagree about how serious a problem this very fast growth is. And they disagree about what should be done about it.</p>
                            <p>It could be said that growth is slowing down. Most industrial countries - Japan, Canada, the United States, and the nations of Europe - are hardly growing at all. In Asia, Africa, and Latin America, growth is somewhat slower than it was twenty years ago.</p>
                            <p>Industrial nations all went through a time of fast growth when their industry was developing. When they reached the point where most people could live in comfort, population growth slowed. Many experts believe that today's developing nations will go through a similar change. The best way to control population, they say, is to raise the standard of living.</p>
                            <p>Industrial nations are beginning to look for ways to produce goods without the pollution that is one of the harmful effects of overcrowding. Developing countries will also use such methods if they are to take care of their people. Educating children everywhere is expensive, but the cost is worthwhile because children will contribute to their country's development when they are grown. Perhaps children now in school will invent ways to help people live at peace with the earth.</p>
                        </div>
                        <div class="mt-4" id="ex8">
                             <p class="font-semibold">Match one phrase (A-F) to complete each key point.</p>
                             <ul class="list-disc list-inside text-sm mb-4">
                                <li><b>A.</b> ways to solve the problem of population</li>
                                <li><b>B.</b> educate the new generation</li>
                                <li><b>C.</b> effects of fast growth of population</li>
                                <li><b>D.</b> the population was once growing fast</li>
                                <li><b>E.</b> there may be a lot more people in the world</li>
                                <li><b>F.</b> produce better products without pollution</li>
                            </ul>
                            <div class="space-y-2">
                                <div><label>1. By the year of 2025,</label><select class="question-input" data-answer="E"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option><option value="E">E</option><option value="F">F</option></select></div>
                                <div><label>2. Experts argue about</label><select class="question-input" data-answer="A"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option><option value="E">E</option><option value="F">F</option></select></div>
                                <div><label>3. In industrial countries,</label><select class="question-input" data-answer="D"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option><option value="E">E</option><option value="F">F</option></select></div>
                                <div><label>4. It is worth the cost to</label><select class="question-input" data-answer="B"><option value="">Select...</option><option value="A">A</option><option value="B">B</option><option value="C">C</option><option value="D">D</option><option value="E">E</option><option value="F">F</option></select></div>
                            </div>
                            <button onclick="checkAnswers('ex8')" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>
            `
        },
        2: {
            title: "Unit 2: IELTS Reading Tips (1)",
            content: `
                <div class="lesson-section">
                    <h2>Reading Strategies</h2>
                    <p>One of the main difficulties experienced by candidates doing the IELTS Reading test is they do not have enough time to complete the test. It is, therefore, essential to read both efficiently and effectively. Here are some key skills.</p>
                </div>
                <div class="lesson-section">
                    <h3>1. Previewing & Skimming</h3>
                    <p>Skimming is reading fast to get the gist or the general idea of the text. You can run your eyes over the passage without stopping at words you don't understand. Another way to skim is to read the title, subheadings, and the first and last paragraphs.</p>
                    <div class="exercise-box">
                        <h4>Example: Polluting the Air</h4>
                        <div class="passage-box" id="passage-unit2-ex1">
                            <p>Every moment, all of us are <span class="vocab-word" data-pos="v." data-translation="ảnh hưởng">affecting</span> the <span class="vocab-word" data-pos="n." data-translation="khí quyển">atmosphere</span>. Plants take the gas carbon dioxide (CO2) from the air and return oxygen (O2). Animals breathe in O2 and breathe out CO2. The air protects us. It blocks <span class="vocab-word" data-pos="adj." data-translation="nguy hiểm">dangerous</span> X-rays, gamma rays, and <span class="vocab-word" data-pos="n. phr." data-translation="tia cực tím">ultraviolet rays</span> from the sun.</p>
                            <p>Now we have <span class="vocab-word" data-pos="idiom" data-translation="làm mất cân bằng">upset the balance</span>. By burning coal and oil, we <span class="vocab-word" data-pos="v." data-translation="thải ra">release</span> carbon that was <span class="vocab-word" data-pos="phr. v." data-translation="bị giữ lại">locked up</span> underground millions of years ago. The amount of CO2 in the air is growing. Carbon dioxide holds the sun's heat in the atmosphere just as the glass roof of a greenhouse holds heat in the greenhouse. Many scientists believe that more CO2 will create a <span class="vocab-word" data-pos="n. phr." data-translation="hiệu ứng nhà kính">greenhouse effect</span>. The earth will get warmer, causing harmful changes in our <span class="vocab-word" data-pos="n." data-translation="khí hậu">climate</span>.</p>
                            <p>A group of gases called <span class="vocab-word" data-pos="n." data-translation="khí CFC">chlorofluorocarbons</span> are <span class="vocab-word" data-pos="v. phr." data-translation="góp phần vào">contributing to</span> the greenhouse effect. They are also <span class="vocab-word" data-pos="v." data-translation="phá hủy">destroying</span> the <span class="vocab-word" data-pos="n. phr." data-translation="tầng ô-zôn">ozone layer</span>, a part of the atmosphere that protects us from the sun's ultraviolet <span class="vocab-word" data-pos="n." data-translation="bức xạ">radiation</span>. These gases, often called CFCs, are used in <span class="vocab-word" data-pos="n." data-translation="tủ lạnh">refrigerators</span>, air conditioners, and some <span class="vocab-word" data-pos="n. phr." data-translation="bình xịt aerosol">aerosol spray cans</span>. When they <span class="vocab-word" data-pos="v." data-translation="thoát ra">escape</span> they rise high into the air. There they meet ozone, a kind of oxygen that stops ultraviolet rays. They <span class="vocab-word" data-pos="phr. v." data-translation="phá vỡ">break up</span> the ozone and let ultraviolet rays through to the earth.</p>
                        </div>
                        <p class="mt-4"><strong>Tip:</strong> By quickly reading the title and the first sentence of each paragraph, you can grasp the general idea: Human beings are affecting the atmosphere, we have upset the balance, and certain gases contribute to the greenhouse effect.</p>
                    </div>
                </div>
                <div class="lesson-section">
                    <h3>2. Reading Charts and Tables</h3>
                    <p>Learning to read charts and tables helps you gather and categorize information quickly. Always read the title and headings of a chart before reading the main text to get a general idea of the topic.</p>
                     <div class="exercise-box">
                        <h4>Example: East versus West - Water Usage</h4>
                        <div class="passage-box" id="passage-unit2-ex2">
                            <p>Some <span class="vocab-word" data-pos="n." data-translation="ngành công nghiệp">industries</span> in the United States use <span class="vocab-word" data-pos="n. phr." data-translation="lượng lớn">huge amounts</span> of water while others use very little. Paper companies are always located along rivers that provide the large amounts of water <span class="vocab-word" data-pos="adj." data-translation="được yêu cầu">required</span> for the <span class="vocab-word" data-pos="n." data-translation="sự sản xuất">production</span> of paper products. Producing one ton of paper for books may require as much as 184,000 gallons of water. <span class="vocab-word" data-pos="n. phr." data-translation="Nhà máy thép">Steel mills</span> and <span class="vocab-word" data-pos="n. phr." data-translation="nhà máy lọc dầu">oil refineries</span> also require large <span class="vocab-word" data-pos="n." data-translation="khối lượng">volumes</span> of water, and many are located along the coast. Some 60,000 gallons of water is needed to <span class="vocab-word" data-pos="v." data-translation="tinh chế">refine</span> a barrel of <span class="vocab-word" data-pos="n. phr." data-translation="dầu thô">crude oil</span>. This includes 10 gallons of water for each gallon of gasoline produced.</p>
                            <p>Water use in the eastern part of the States <span class="vocab-word" data-pos="v. phr." data-translation="khác với">differs from</span> its use in the western part. The chart below shows how the water is used in each <span class="vocab-word" data-pos="n." data-translation="vùng">region</span> of the country.</p>
                        </div>
                        <table class="w-full mt-4 text-left border-collapse">
                            <thead>
                                <tr><th colspan="2" class="p-2 border bg-gray-100 text-center">East versus West - Water Usage Ranked in Descending Order</th></tr>
                                <tr><th class="p-2 border">The West</th><th class="p-2 border">The East</th></tr>
                            </thead>
                            <tbody>
                                <tr><td class="p-2 border">Irrigated agriculture</td><td class="p-2 border">Energy</td></tr>
                                <tr><td class="p-2 border">Domestic and Commercial</td><td class="p-2 border">Manufacturing</td></tr>
                                <tr><td class="p-2 border">Energy</td><td class="p-2 border">Irrigated agriculture</td></tr>
                                <tr><td class="p-2 border">Minerals</td><td class="p-2 border">Minerals</td></tr>
                            </tbody>
                        </table>
                        <p class="mt-4"><strong>Tip:</strong> Skimming the table first tells you the passage will compare water usage in the East and West for different purposes, with 'Irrigated agriculture' being the top user in the West and 'Energy' in the East.</p>
                    </div>
                </div>
                 <div class="lesson-section">
                    <h3>3. Looking for Details (Scanning)</h3>
                    <p>Scanning is searching for specific information, like numbers, dates, names, or key words from a question. Read the question first to know what you're looking for, then scan the text to find it.</p>
                    <div class="exercise-box">
                        <h3>Example Exercise</h3>
                        <div class="passage-box mt-4" id="passage-ex4-unit2">
                            <h4>Population Growth</h4>
                            <p>In the next <span class="vocab-word" data-pos="n." data-translation="thập kỷ">decade</span>, population growth will probably add to world hunger problems. As the population grows, according to the World Hunger Programme, so will the number of <span class="vocab-word" data-pos="adj." data-translation="suy dinh dưỡng">malnourished</span> people. The world's population, <span class="vocab-word" data-pos="v. phr." data-translation="được ước tính là">estimated at</span> 5.6 billion in 1994, may reach 11.5 billion by the year 2150, and most of that growth is <span class="vocab-word" data-pos="v." data-translation="đang xảy ra">occurring</span> in the world's poorest countries. At least 95 percent of the <span class="vocab-word" data-pos="adj." data-translation="toàn cầu">global</span> population growth over the next thirty-five years will take place in the <span class="vocab-word" data-pos="n. phr." data-translation="vùng vành đai đói nghèo">hunger-belt regions</span> of Africa, Asia, and Latin America. For countries that already have a hard time feeding their populations, growth on a scale of even 3 percent a year could add <span class="vocab-word" data-pos="adv." data-translation="một cách đáng kể">significantly</span> to their food problems. This level of growth is already occurring in Namibia and in South Africa, and many other countries are not far behind.</p>
                            <p>In 1981, the United States recorded a population on the African <span class="vocab-word" data-pos="n." data-translation="lục địa">continent</span> of 481 million people. This number topped 800 million by the year 2000. Africa would have to increase its food production by 4 percent a year to meet the food needs of its increased population. But Africa's food production is growing by only 1 percent a year, which means that nations already <span class="vocab-word" data-pos="v." data-translation="đang vật lộn">struggling</span> to meet their people's food needs will have an even greater struggle as populations grow. "When food supply grows slower than population," says Professor De-Gregori, "a country is in trouble."</p>
                        </div>
                        <div class="mt-4 space-y-4" id="ex4-unit2">
                            <div>
                                <label class="block text-sm">1. What will be increased, according to the World Hunger Programme, together with the rapid growth of population?</label>
                                <input class="question-input mt-1" data-answer="the number of malnourished people">
                            </div>
                             <div>
                                <label class="block text-sm">2. For some countries, a population growth of even 3 percent a year can worsen their...</label>
                                <input class="question-input mt-1" data-answer="food problems">
                            </div>
                            <button onclick="checkAnswers('ex4-unit2')" class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition">Check Answers</button>
                        </div>
                    </div>
                </div>
            `
        },
        3: {
            title: "Unit 3: IELTS Reading Tips (2)",
            content: `
                <div class="lesson-section">
                    <h2>Working Out Unfamiliar Vocabulary</h2>
                    <p>You will likely come across words you don't know. Don't panic! You can often work out the meaning from the context or by understanding how words are built.</p>
                    <h3>1. Using Common Roots, Prefixes, and Suffixes</h3>
                    <p>Knowledge of common word parts can help you guess the meaning of unknown words.</p>
                    <ul>
                        <li>A <strong>prefix</strong> is added to the beginning of a word (e.g., 'un-' in 'unhappy').</li>
                        <li>A <strong>suffix</strong> is added to the end of a word (e.g., '-able' in 'readable').</li>
                        <li>A <strong>root</strong> is the main part of a word (e.g., 'port' in 'transport').</li>
                    </ul>
                </div>
                <div class="lesson-section">
                    <h3>2. Examining the Context</h3>
                    <p>Look at the words and sentences surrounding an unfamiliar word for clues like definitions, explanations, synonyms, antonyms, and examples.</p>
                    <div class="exercise-box">
                        <h4>Example: Guessing from Context</h4>
                        <div class="passage-box" id="passage-unit3-ex1">
                            <p>Unlike us, many <span class="vocab-word" data-pos="n." data-translation="động vật có vú">mammals</span> are <strong>nocturnal</strong>, which means that they are active by night and sleep through the day. Long ago, the first mammals moved about under the cover of darkness to escape <span class="vocab-word" data-pos="adj." data-translation="săn mồi">predatory</span> <span class="vocab-word" data-pos="n." data-translation="khủng long">dinosaurs</span>.</p>
                        </div>
                        <p class="mt-4"><strong>Question:</strong> What does "nocturnal" mean?</p>
                        <p><strong>Clue:</strong> The passage gives a direct definition right after the word: "...which means that they are active by night and sleep through the day."</p>
                    </div>
                </div>
                <div class="lesson-section">
                    <h2>Common Roots and Affixes</h2>
                    <p>Use the search box below to filter the table and find the meanings of common word parts.</p>
                    <input type="text" id="affix-search" onkeyup="filterAffixes()" placeholder="Search for a root or affix..." class="question-input mb-4">
                    <div class="overflow-x-auto">
                        <table id="affix-table" class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="p-2 border">Root/Affix</th>
                                    <th class="p-2 border">Meaning</th>
                                    <th class="p-2 border">Examples</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Table rows will be inserted by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            `
        }
    };
    
    const affixData = [
        { affix: "-able, -ible", meaning: "capable of", examples: "eatable, payable" },
        { affix: "-al", meaning: "relating to", examples: "national, political" },
        { affix: "anti-", meaning: "against", examples: "antislavery, antiwar" },
        { affix: "audi-, audio-", meaning: "connecting with hearing", examples: "auditor, auditorium" },
        { affix: "auto-", meaning: "by oneself or by itself", examples: "automatic, autobiography" },
        { affix: "bi-", meaning: "two", examples: "bicycle, bimonthly" },
        { affix: "bio-", meaning: "of life and living things", examples: "biology, biography" },
        { affix: "cent-, centi-", meaning: "hundred or hundredth", examples: "century, centimetre" },
        { affix: "counter-", meaning: "opposite, against", examples: "countermarch, counterattack" },
        { affix: "dic-", meaning: "say, speak", examples: "diction, dictate" },
        { affix: "dis-", meaning: "not, negative", examples: "disagree, dishonest" },
        { affix: "en-", meaning: "put into; cause to be", examples: "endanger, enrich" },
        { affix: "-er, -or", meaning: "a person or thing that does an action", examples: "teacher, actor" },
        { affix: "ex-", meaning: "former", examples: "ex-wife, ex-student" },
        { affix: "-ful", meaning: "full of; having the qualities of", examples: "handful, joyful" },
        { affix: "-fy, -ify", meaning: "make or become", examples: "purify, terrify" },
        { affix: "geo-", meaning: "of the earth", examples: "geology, geography" },
        { affix: "-graph-", meaning: "something written or drawn", examples: "autograph, graphology" },
        { affix: "homo-", meaning: "same, like", examples: "homosexual, homophone" },
        { affix: "il-, im-, in-, ir-", meaning: "not, negative", examples: "illegal, impossible, incomplete, irregular" },
        { affix: "inter-", meaning: "between, among", examples: "international, intermediate" },
        { affix: "-ism", meaning: "principles or teaching of", examples: "Buddhism, socialism" },
        { affix: "-ist", meaning: "a person who is skilled in an area", examples: "artist, scientist" },
        { affix: "-ize, -ise", meaning: "cause to be or become", examples: "realise, nationalise" },
        { affix: "-less", meaning: "lack of, without", examples: "careless, helpless" },
        { affix: "-logy, -ology", meaning: "the science or study of", examples: "psychology, biology" },
        { affix: "mal-", meaning: "bad or badly", examples: "malpractice, maltreat" },
        { affix: "mis-", meaning: "bad, wrong or badly, wrongly", examples: "misfortune, misunderstand" },
        { affix: "mono-", meaning: "one, single", examples: "monologue, monotonous" },
        { affix: "multi-", meaning: "many", examples: "multiply, multinational" },
        { affix: "-ness", meaning: "the condition of", examples: "sadness, illness" },
        { affix: "non-", meaning: "not, lack of", examples: "nonfiction, non-profit" },
        { affix: "-ous", meaning: "having the nature of", examples: "joyous, monotonous" },
        { affix: "phon-", meaning: "sound, voice", examples: "telephone, phonology" },
        { affix: "port-", meaning: "carry, movement", examples: "transport, portable" },
        { affix: "post-", meaning: "after", examples: "postwar, postgraduate" },
        { affix: "pre-", meaning: "before", examples: "prewar, pretest" },
        { affix: "re-", meaning: "back, again", examples: "replay, rewrite" },
        { affix: "spect-", meaning: "look, see", examples: "spectator, inspect" },
        { affix: "sub-", meaning: "under, less important", examples: "subzero, subeditor" },
        { affix: "super-", meaning: "over, more than usual", examples: "supernatural, superpower" },
        { affix: "tele-", meaning: "over a distance", examples: "television, telegram" },
        { affix: "trans-", meaning: "across", examples: "translate, transplant" },
        { affix: "un-", meaning: "not, negative", examples: "unfortunate, unfair" },
        { affix: "vis-", meaning: "see", examples: "vision, visible" }
    ];

    let currentUnit = 1;

    // --- CORE FUNCTIONS ---

    function switchUnit(unitNum) {
        currentUnit = unitNum;
        document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
        document.getElementById(`tab${unitNum}`).classList.add('active');
        loadUnitContent(unitNum);
    }

    function loadUnitContent(unitNum) {
        const unitData = units[unitNum];
        const container = document.getElementById('unit-container');
        container.innerHTML = unitData.content;

        if (unitNum === 3) {
            populateAffixTable();
        }
        
        // Add vocabulary tooltips after content is loaded
        addVocabTooltips();
    }
    
    function addVocabTooltips() {
        document.querySelectorAll('.vocab-word').forEach(word => {
            // Prevent adding duplicate tooltips
            if (word.querySelector('.vocab-tooltip')) return;

            const tooltip = document.createElement('span');
            tooltip.className = 'vocab-tooltip';
            const pos = word.dataset.pos;
            const translation = word.dataset.translation;
            tooltip.innerHTML = `<em class="font-normal text-gray-400">(${pos})</em> ${translation}`;
            word.appendChild(tooltip);
        });
    }

    function populateAffixTable() {
        const tableBody = document.querySelector('#affix-table tbody');
        if (!tableBody) return;
        tableBody.innerHTML = '';
        affixData.forEach(item => {
            const row = `<tr>
                <td class="p-2 border">${item.affix}</td>
                <td class="p-2 border">${item.meaning}</td>
                <td class="p-2 border">${item.examples}</td>
            </tr>`;
            tableBody.innerHTML += row;
        });
    }

    function filterAffixes() {
        const input = document.getElementById('affix-search');
        const filter = input.value.toLowerCase();
        const table = document.getElementById('affix-table');
        const tr = table.getElementsByTagName('tr');

        for (let i = 1; i < tr.length; i++) {
            const td = tr[i].getElementsByTagName('td')[0];
            if (td) {
                const txtValue = td.textContent || td.innerText;
                if (txtValue.toLowerCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function checkAnswers(exerciseId) {
        const exerciseContainer = document.getElementById(exerciseId);
        if (!exerciseContainer) return;

        exerciseContainer.querySelectorAll('.correct-answer-text').forEach(el => el.remove());

        const inputs = exerciseContainer.querySelectorAll('input, select');
        inputs.forEach(input => {
            const userAnswer = input.value.trim().toLowerCase();
            const correctAnswer = input.dataset.answer.toLowerCase();
            input.classList.remove('correct', 'incorrect');

            if (userAnswer === correctAnswer) {
                input.classList.add('correct');
            } else {
                input.classList.add('incorrect');
                const hint = document.createElement('span');
                hint.className = 'correct-answer-text ml-2';
                hint.textContent = `Correct: ${input.dataset.answer}`;
                input.parentElement.appendChild(hint);
            }
        });
    }

    // --- TOOLBAR FUNCTIONS ---
    function selectHighlightColor(color, element) {
        selectedHighlightColor = color;
        document.querySelectorAll('#color-palette .color-swatch').forEach(btn => btn.classList.remove('active'));
        element.classList.add('active');
    }

    function highlightSelection() {
        const selection = window.getSelection();
        if (!selection.rangeCount || selection.isCollapsed) return;
        
        const range = selection.getRangeAt(0);
        
        const passageBoxes = document.querySelectorAll('.passage-box');
        let inPassage = false;
        passageBoxes.forEach(box => {
            if (box.contains(range.commonAncestorContainer)) {
                inPassage = true;
            }
        });
        if (!inPassage) return;

        const mark = document.createElement('mark');
        mark.style.backgroundColor = selectedHighlightColor;
        mark.onclick = (event) => {
            const parent = event.target.parentNode;
            while (event.target.firstChild) {
                parent.insertBefore(event.target.firstChild, event.target);
            }
            parent.removeChild(event.target);
            parent.normalize();
        };
        
        try {
            const selectedFragment = range.extractContents();
            mark.appendChild(selectedFragment);
            range.insertNode(mark);
        } catch (e) {
            console.error("Could not highlight selection", e);
        }
        
        selection.removeAllRanges();
    }
    
    function clearAllHighlights() {
        document.querySelectorAll('.passage-box mark').forEach(mark => {
            const parent = mark.parentNode;
            while (mark.firstChild) {
                parent.insertBefore(mark.firstChild, mark);
            }
            parent.removeChild(mark);
            parent.normalize();
        });
    }

    function changeFontSize(direction) {
        const content = document.getElementById('unit-container');
        if (content) {
            let currentSize = parseFloat(window.getComputedStyle(content, null).getPropertyValue('font-size'));
            content.style.fontSize = (currentSize + direction) + 'px';
        }
    }

    // --- INITIALIZATION ---
    window.onload = () => {
        switchUnit(1);
    };

</script>
</body>
</html>
