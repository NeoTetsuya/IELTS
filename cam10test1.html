<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Academic Test Simulator - Cambridge 10 Test 1 (Enhanced)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overscroll-behavior: none;
        }
        .ielts-container {
            display: grid;
            grid-template-rows: auto 1fr auto;
            height: 100vh;
        }
        .content-panes {
            display: grid;
            grid-template-columns: 1fr 5px 1fr;
            overflow: hidden;
        }
        .pane {
            overflow-y: auto;
            padding: 1.5rem;
        }
        .splitter {
            background-color: #d1d5db;
            cursor: col-resize;
            z-index: 10;
        }
        .tab-btn {
            padding: 8px 16px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background-color: #f9fafb;
            cursor: pointer;
            transition: all 0.2s;
        }
        .tab-btn:hover {
            background-color: #f3f4f6;
        }
        .tab-btn.active {
            background-color: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        .section-btn {
            padding: 6px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            background-color: #f9fafb;
            cursor: pointer;
            transition: all 0.2s;
            margin: 0 4px;
        }
        .section-btn:hover {
            background-color: #e5e7eb;
        }
        .section-btn.active {
            background-color: #1d4ed8;
            color: white;
            border-color: #1d4ed8;
        }
        input[type="text"] {
            border: 1px solid #9ca3af;
            border-radius: 4px;
            padding: 4px 8px;
            width: 150px;
        }
        input[type="text"]:focus {
            outline: 2px solid #3b82f6;
            border-color: #3b82f6;
        }
        .reading-passage {
            line-height: 1.8;
            font-size: 16px;
            color: #374151;
            text-align: justify;
            margin-bottom: 2rem;
        }
        .reading-passage p {
            margin-bottom: 1.5rem;
        }
         .reading-passage h3, .reading-passage h4 {
            color: #1f2937;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        .explanation-box {
            animation: fadeIn 0.3s ease-in-out;
            transition: all 0.2s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .correct-answer {
            box-shadow: 0 0 0 2px #16a34a;
        }
        .incorrect-answer {
            box-shadow: 0 0 0 2px #dc2626;
        }
        .highlight-tooltip {
            position: absolute;
            background-color: #1f2937;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 100;
            cursor: pointer;
            display: none;
        }
        mark {
            background-color: #fef08a;
            border-radius: 2px;
        }
        /* Vocabulary Styles */
        .vocab-word {
            color: #2563eb;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 2px dotted #93c5fd;
            transition: all 0.2s ease-in-out;
        }
        .vocab-word:hover {
            background-color: #dbeafe;
            border-bottom-style: solid;
        }
        #vocab-modal {
            animation: fadeInModal 0.3s ease-out;
        }
        @keyframes fadeInModal {
            from { opacity: 0; }
            to { opacity: 1; }
        }
         @keyframes zoomIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

<div id="test-container" class="ielts-container">
    <!-- Header -->
    <header class="bg-white shadow-md p-3 flex justify-between items-center">
        <h1 class="text-xl font-bold text-blue-600">IELTS Academic Test Simulator - Cambridge 10 Test 1</h1>
        <div class="flex items-center space-x-4">
            <div class="text-lg font-semibold text-gray-600">IELTS Academic Reading</div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="content-panes" class="content-panes">
        <!-- Left Pane: Passages / Instructions -->
        <div id="left-pane" class="pane bg-white">
            <!-- Content will be loaded here by JS -->
        </div>

        <!-- Splitter -->
        <div id="splitter" class="splitter"></div>

        <!-- Right Pane: Questions -->
        <div id="right-pane" class="pane bg-gray-50">
            <div id="questions-section" class="questions-section">
                <!-- Questions will be loaded here by JS -->
            </div>
        </div>
    </main>

    <!-- Footer: Navigation -->
    <footer class="bg-white shadow-inner p-3">
        <div class="flex justify-between items-center">
            <!-- Main Skill Tabs -->
            <div>
                <button class="tab-btn active" data-tab="reading">Reading</button>
            </div>
            <!-- Section Tabs -->
            <div id="section-tabs">
                <!-- Section buttons will be loaded here by JS -->
            </div>
        </div>
    </footer>
</div>

<!-- Highlight Tooltip -->
<div id="highlight-tooltip" class="highlight-tooltip">Highlight</div>

<!-- Vocabulary Modal -->
<div id="vocab-modal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 hidden z-50">
    <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md relative transform transition-all" style="animation: zoomIn 0.3s ease-out;">
        <button id="close-vocab-modal" class="absolute top-3 right-3 text-gray-400 hover:text-gray-800 text-3xl leading-none">&times;</button>
        <div class="flex items-center mb-4">
            <h3 id="vocab-word" class="text-3xl font-bold text-blue-600 capitalize"></h3>
        </div>
        <div class="flex items-center mb-4">
            <button id="play-audio-btn" class="flex items-center justify-center h-10 w-10 rounded-full bg-blue-500 hover:bg-blue-600 text-white mr-3 transition-colors">
                 <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"></path></svg>
            </button>
            <p id="vocab-pronunciation-text" class="text-gray-600 text-lg"></p>
        </div>
        <p id="vocab-meaning" class="text-gray-700 leading-relaxed"></p>
    </div>
</div>


<script>
    // --- DATA ---
    const vocabulary = {
        'fundamental': { meaning: 'Forming a necessary base or core; of central importance.', phonetic: '/ˌfʌndəˈmɛntl/' },
        'neglected': { meaning: 'Suffering a lack of proper care; not receiving proper attention.', phonetic: '/nɪˈɡlɛktɪd/' },
        'restoration': { meaning: 'The action of returning something to a former owner, place, or condition.', phonetic: '/ˌrɛstəˈreɪʃən/' },
        'spectacular': { meaning: 'Beautiful in a dramatic and eye-catching way.', phonetic: '/spɛkˈtækjələr/' },
        'bygone': { meaning: 'Belonging to an earlier time.', phonetic: '/ˈbaɪɡɔːn/' },
        'utilitarian': { meaning: 'Designed to be useful or practical rather than attractive.', phonetic: '/juːˌtɪlɪˈtɛəriən/' },
        'heyday': { meaning: 'The period of a person\'s or thing\'s greatest success, popularity, or vigor.', phonetic: '/ˈheɪdeɪ/' },
        'aquifer': { meaning: 'An underground layer of water-bearing rock or rock fractures.', phonetic: '/ˈækwɪfər/' },
        'recedes': { meaning: 'To go or move back or further away from a previous position.', phonetic: '/rɪˈsiːdz/' },
        'elaborate': { meaning: 'Involving many carefully arranged parts or details; detailed and complicated in design.', phonetic: '/ɪˈlæbərət/' },
        'pavilions': { meaning: 'A building or similar structure used for shelter or entertainment in a park or garden.', phonetic: '/pəˈvɪljənz/' },
        'relentless': { meaning: 'Oppressively constant; incessant.', phonetic: '/rɪˈlɛntləs/' },
        'intricate': { meaning: 'Very complicated or detailed.', phonetic: '/ˈɪntrɪkət/' },
        'embellish': { meaning: 'To make (something) more attractive by the addition of decorative details.', phonetic: '/ɪmˈbɛlɪʃ/' },
        'derelict': { meaning: 'In a very poor condition as a result of disuse and neglect.', phonetic: '/ˈdɛrəlɪkt/' },
        'silted': { meaning: 'Filled or blocked with fine sand, clay, or other material carried by running water.', phonetic: '/ˈsɪltɪd/' },
        'pristine': { meaning: 'In its original condition; unspoiled.', phonetic: '/ˈprɪstiːn/' },
        'devastating': { meaning: 'Highly destructive or damaging.', phonetic: '/ˈdɛvəsteɪtɪŋ/' },
        'hallmarks': { meaning: 'A distinctive feature or characteristic.', phonetic: '/ˈhɔːlmɑːrks/' },
        'aesthetically': { meaning: 'In a way that gives pleasure through beauty.', phonetic: '/ɛsˈθɛtɪkli/' },
        'ingenuity': { meaning: 'The quality of being clever, original, and inventive.', phonetic: '/ˌɪndʒəˈnjuːəti/' },
        'conceive': { meaning: 'To form or devise (a plan or idea) in the mind.', phonetic: '/kənˈsiːv/' },
        'vigorous': { meaning: 'Strong, healthy, and full of energy.', phonetic: '/ˈvɪɡərəs/' },
        'facilitating': { meaning: 'Making (an action or process) easy or easier.', phonetic: '/fəˈsɪlɪteɪtɪŋ/' },
        'substantial': { meaning: 'Of considerable importance, size, or worth.', phonetic: '/səbˈstænʃəl/' },
        'abolished': { meaning: 'Formally put an end to (a system, practice, or institution).', phonetic: '/əˈbɒlɪʃt/' },
        'phenomenon': { meaning: 'A fact or situation that is observed to exist, especially one whose cause is in question.', phonetic: '/fəˈnɒmɪnən/' },
        'relocation': { meaning: 'The action of moving to a new place and establishing one\'s home or business there.', phonetic: '/ˌriːloʊˈkeɪʃən/' },
        'haulage': { meaning: 'The commercial transport of goods.', phonetic: '/ˈhɔːlɪdʒ/' },
        'imperative': { meaning: 'Of vital importance; crucial.', phonetic: '/ɪmˈpɛrətɪv/' },
        'sustainable': { meaning: 'Able to be maintained at a certain rate or level; conserving an ecological balance.', phonetic: '/səˈsteɪnəbl/' },
        'integrating': { meaning: 'Combining one thing with another so that they become a whole.', phonetic: '/ˈɪntɪɡreɪtɪŋ/' },
        'culprit': { meaning: 'The person or thing responsible for a crime or other misdeed.', phonetic: '/ˈkʌlprɪt/' },
        'attributable': { meaning: 'Regarded as being caused by (someone or something).', phonetic: '/əˈtrɪbjətəbl/' },
        'deterioration': { meaning: 'The process of becoming progressively worse.', phonetic: '/dɪˌtɪəriəˈreɪʃən/' },
        'marginalisation': { meaning: 'Treatment of a person, group, or concept as insignificant or peripheral.', phonetic: '/ˌmɑːrdʒɪnəlaɪˈzeɪʃən/' },
        'revitalise': { meaning: 'To imbue (something) with new life and vitality.', phonetic: '/ˌriːˈvaɪtəlaɪz/' },
        'cohesion': { meaning: 'The action or fact of forming a united whole.', phonetic: '/koʊˈhiːʒən/' },
        'saturated': { meaning: 'Holding as much water or moisture as can be absorbed; thoroughly soaked.', phonetic: '/ˈsætʃəreɪtɪd/' },
        'integrated': { meaning: 'Having various parts or aspects linked or coordinated.', phonetic: '/ˈɪntɪɡreɪtɪd/' },
        'stipulate': { meaning: 'To demand or specify (a requirement), typically as part of a bargain or agreement.', phonetic: '/ˈstɪpjuleɪt/' },
        'stimulate': { meaning: 'To encourage interest or activity in (something).', phonetic: '/ˈstɪmjuleɪt/' },
        'recruitment': { meaning: 'The action of finding new people to join an organization or cause.', phonetic: '/rɪˈkruːtmənt/' },
        'instinctively': { meaning: 'Without conscious thought; by natural instinct.', phonetic: '/ɪnˈstɪŋktɪvli/' },
        'counterintuitive': { meaning: 'Contrary to intuition or to common-sense expectation.', phonetic: '/ˌkaʊntərɪnˈtuːɪtɪv/' },
        'invariably': { meaning: 'In every case or on every occasion; always.', phonetic: '/ɪnˈvɛəriəbli/' },
        'collaborative': { meaning: 'Produced by or involving two or more parties working together.', phonetic: '/kəˈlæbərətɪv/' },
        'pervasive': { meaning: 'Spreading widely throughout an area or a group of people (especially of an unwelcome influence).', phonetic: '/pərˈveɪsɪv/' },
        'advocating': { meaning: 'Publicly recommending or supporting.', phonetic: '/ˈædvəkeɪtɪŋ/' },
        'engagement': { meaning: 'The act of participating or becoming involved in something.', phonetic: '/ɪnˈɡeɪdʒmənt/' },
        'inhibit': { meaning: 'To hinder, restrain, or prevent (an action or process).', phonetic: '/ɪnˈhɪbɪt/' },
        'passivity': { meaning: 'Acceptance of what happens, without active response or resistance.', phonetic: '/pəˈsɪvəti/' },
        'overbearing': { meaning: 'Unpleasantly or arrogantly domineering.', phonetic: '/ˌoʊvərˈbɛərɪŋ/' },
        'interchange': { meaning: 'The process of exchanging things with each other.', phonetic: '/ˈɪntərtʃeɪndʒ/' },
        'collective': { meaning: 'Done by people acting as a group.', phonetic: '/kəˈlɛktɪv/' },
    };

    const testData = {
        reading: {
            duration: 3600, // 60 minutes
            sections: [
                {
                    title: "Passage 1",
                    passage: `
                        <h3 class="text-xl font-bold mb-4">Stepwells</h3>
                        <p class="mb-4"><em>A millennium ago, stepwells were <span class="vocab-word" data-word="fundamental">fundamental</span> to life in the driest parts of India. Although many have been <span class="vocab-word" data-word="neglected">neglected</span>, recent <span class="vocab-word" data-word="restoration">restoration</span> has returned them to their former glory. Richard Cox travelled to north-western India to document these <span class="vocab-word" data-word="spectacular">spectacular</span> monuments from a <span class="vocab-word" data-word="bygone">bygone</span> era.</em></p>
                        <p class="mb-4">During the sixth and seventh centuries, the inhabitants of the modern-day states of Gujarat and Rajasthan in North-western India developed a method of gaining access to clean, fresh groundwater during the dry season for drinking, bathing, watering animals and irrigation. However, the significance of this invention – the stepwell – goes beyond its <span class="vocab-word" data-word="utilitarian">utilitarian</span> application.</p>
                        <p class="mb-4">Unique to the region, stepwells are often architecturally complex and vary widely in size and shape. During their <span class="vocab-word" data-word="heyday">heyday</span>, they were places of gathering, of leisure, of relaxation and of worship for villagers of all but the lowest castes. Most stepwells are found dotted around the desert areas of Gujarat (where they are called vav) and Rajasthan (where they are known as baori), while a few also survive in Delhi. Some were located in or near villages as public spaces for the community; others were positioned beside roads as resting places for travellers.</p>
                        <p class="mb-4">As their name suggests, stepwells comprise a series of stone steps descending from ground level to the water source (normally an underground <span class="vocab-word" data-word="aquifer">aquifer</span>) as it <span class="vocab-word" data-word="recedes">recedes</span> following the rains. When the water level was high, the user needed only to descend a few steps to reach it; when it was low, several levels would have to be negotiated.</p>
                        <p class="mb-4">Some wells are vast, open craters with hundreds of steps paving each sloping side, often in tiers. Others are more <span class="vocab-word" data-word="elaborate">elaborate</span>, with long stepped passages leading to the water via several storeys. Built from stone and supported by pillars, they also included <span class="vocab-word" data-word="pavilions">pavilions</span> that sheltered visitors from the <span class="vocab-word" data-word="relentless">relentless</span> heat. But perhaps the most impressive features are the <span class="vocab-word" data-word="intricate">intricate</span> decorative sculptures that <span class="vocab-word" data-word="embellish">embellish</span> many stepwells, showing activities from fighting and dancing to everyday acts such as women combing their hair and churning butter.</p>
                        <p class="mb-4">Down the centuries, thousands of wells were constructed throughout northwestern India, but the majority have now fallen into disuse; many are <span class="vocab-word" data-word="derelict">derelict</span> and dry, as groundwater has been diverted for industrial use and the wells no longer reach the water table. Their condition hasn’t been helped by recent dry spells: southern Rajasthan suffered an eight-year drought between 1996 and 2004.</p>
                        <p class="mb-4">However, some important sites in Gujarat have recently undergone major restoration, and the state government announced in June last year that it plans to restore the stepwells throughout the state.</p>
                        <p class="mb-4">In Patan, the state’s ancient capital, the stepwell of Rani Ki Vav (Queen’s Stepwell) is perhaps the finest current example. It was built by Queen Udayamati during the late 11th century, but became <span class="vocab-word" data-word="silted">silted</span> up following a flood during the 13th century. But the Archaeological Survey of India began restoring it in the 1960s, and today it’s in <span class="vocab-word" data-word="pristine">pristine</span> condition. At 65 metres long, 20 metres wide and 27 metres deep, Rani Ki Vav features 500 distinct sculptures carved into niches throughout the monument, depicting gods such as Vishnu and Parvati in various incarnations. Incredibly, in January 2001, this ancient structure survived a <span class="vocab-word" data-word="devastating">devastating</span> earthquake that measured 7.6 on the Richter scale.</p>
                        <p class="mb-4">Another example is the Surya Kund in Modhera, northern Gujarat, next to the Sun Temple, built by King Bhima I in 1026 to honour the sun god Surya. It’s actually a tank (kund means reservoir or pond) rather than a well, but displays the <span class="vocab-word" data-word="hallmarks">hallmarks</span> of stepwell architecture, including four sides of steps that descend to the bottom in a stunning geometrical formation. The terraces house 108 small, intricately carved shrines between the sets of steps.</p>
                        <p class="mb-4">Rajasthan also has a wealth of wells. The ancient city of Bundi, 200 kilometres south of Jaipur, is renowned for its architecture, including its stepwells. One of the larger examples is Raniji Ki Baori, which was built by the queen of the region, Nathavatji, in 1699. At 46 metres deep, 20 metres wide and 40 metres long, the intricately carved monument is one of 21 baoris commissioned in the Bundi area by Nathavatji.</p>
                        <p class="mb-4">In the old ruined town of Abhaneri, about 95 kilometres east of Jaipur, is Chand Baori, one of India’s oldest and deepest wells; <span class="vocab-word" data-word="aesthetically">aesthetically</span>, it’s perhaps one of the most dramatic. Built in around 850 AD next to the temple of Harshat Mata, the baori comprises hundreds of zigzagging steps that run along three of its sides, steeply descending 11 storeys, resulting in a striking geometric pattern when seen from afar. On the fourth side, covered verandas supported by ornate pillars overlook the steps.</p>
                        <p class="mb-4">Still in public use is Neemrana Ki Baori, located just off the Jaipur–Dehli highway. Constructed in around 1700, it’s nine storeys deep, with the last two levels underwater. At ground level, there are 86 colonnaded openings from where the visitor descends 170 steps to the deepest water source.</p>
                        <p class="mb-4">Today, following years of neglect, many of these monuments to medieval engineering have been saved by the Archaeological Survey of India, which has recognised the importance of preserving them as part of the country’s rich history. Tourists flock to wells in far-flung corners of northwestern India to gaze in wonder at these architectural marvels from 1,000 years ago, which serve as a reminder of both the <span class="vocab-word" data-word="ingenuity">ingenuity</span> and artistry of ancient civilisations and of the value of water to human existence.</p>
                    `,
                    questions: `
                        <h4 class="font-bold mb-2">Questions 1-5</h4>
                        <p class="mb-4">Do the following statements agree with the information given in Reading Passage 1? Write <strong>TRUE</strong>, <strong>FALSE</strong>, or <strong>NOT GIVEN</strong>.</p>
                        <div class="space-y-3 p-4 border rounded-lg bg-white mb-6">
                            <p><strong>1</strong> Examples of ancient stepwells can be found all over the world. <input type="text" id="q1" data-q="1" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>2</strong> Stepwells had a range of functions, in addition to those related to water collection. <input type="text" id="q2" data-q="2" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>3</strong> The few existing stepwells in Delhi are more attractive than those found elsewhere. <input type="text" id="q3" data-q="3" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>4</strong> It took workers many years to build the stone steps characteristic of stepwells. <input type="text" id="q4" data-q="4" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>5</strong> The number of steps above the water level in a stepwell altered during the course of a year. <input type="text" id="q5" data-q="5" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                        </div>
                        <h4 class="font-bold mb-2">Questions 6-8</h4>
                        <p class="mb-4">Answer the questions below. Choose <strong>ONE WORD ONLY</strong> from the passage for each answer.</p>
                        <div class="space-y-3 p-4 border rounded-lg bg-white mb-6">
                            <p><strong>6</strong> Which part of some stepwells provided shade for people? <input type="text" id="q6" data-q="6"></p>
                            <p><strong>7</strong> What type of serious climatic event, which took place in southern Rajasthan, is mentioned in the article? <input type="text" id="q7" data-q="7"></p>
                            <p><strong>8</strong> Who are frequent visitors to stepwells nowadays? <input type="text" id="q8" data-q="8"></p>
                        </div>
                         <h4 class="font-bold mb-2">Questions 9-13</h4>
                        <p class="mb-4">Complete the table below. Choose <strong>ONE WORD AND/OR A NUMBER</strong> from the passage for each answer.</p>
                        <div class="space-y-3 p-4 border rounded-lg bg-white mb-6">
                            <table class="w-full border-collapse border border-gray-300">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="border border-gray-300 p-2 text-left">Stepwell</th>
                                        <th class="border border-gray-300 p-2 text-left">Date</th>
                                        <th class="border border-gray-300 p-2 text-left">Features</th>
                                        <th class="border border-gray-300 p-2 text-left">Other notes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="border border-gray-300 p-2">Rani Ki Vav</td>
                                        <td class="border border-gray-300 p-2">Late 11th century</td>
                                        <td class="border border-gray-300 p-2">As many as 500 sculptures decorate the monument</td>
                                        <td class="border border-gray-300 p-2">Excellent condition, despite the <strong>9</strong> <input type="text" id="q9" data-q="9"> of 2001.</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-2">Surya Kund</td>
                                        <td class="border border-gray-300 p-2">1026</td>
                                        <td class="border border-gray-300 p-2">Steps on the <strong>10</strong> <input type="text" id="q10" data-q="10"> produce a geometric pattern. Carved shrines.</td>
                                        <td class="border border-gray-300 p-2">Looks more like a <strong>11</strong> <input type="text" id="q11" data-q="11"> than a well.</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-2">Chand Baori</td>
                                        <td class="border border-gray-300 p-2">c. 850 AD</td>
                                        <td class="border border-gray-300 p-2">Steps take you down 11 storeys to the bottom</td>
                                        <td class="border border-gray-300 p-2">Old, deep and very dramatic. Has <strong>12</strong> <input type="text" id="q12" data-q="12"> which provide a view to the steps.</td>
                                    </tr>
                                    <tr>
                                        <td class="border border-gray-300 p-2">Neemrana Ki Baori</td>
                                        <td class="border border-gray-300 p-2">c. 1700</td>
                                        <td class="border border-gray-300 p-2">Has two <strong>13</strong> <input type="text" id="q13" data-q="13"> levels.</td>
                                        <td class="border border-gray-300 p-2">Used by public today.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    `
                },
                {
                    title: "Passage 2",
                    passage: `
                        <h3 class="text-xl font-bold mb-4">European Transport Systems 1990-2010</h3>
                        <p class="mb-4"><em>What have been the trends and what are the prospects for European transport systems?</em></p>
                        <p class="mb-4"><strong>A</strong> It is difficult to <span class="vocab-word" data-word="conceive">conceive</span> of <span class="vocab-word" data-word="vigorous">vigorous</span> economic growth without an efficient transport system. Although modern information technologies can reduce the demand for physical transport by <span class="vocab-word" data-word="facilitating">facilitating</span> teleworking and teleservices, the requirement for transport continues to increase. There are two key factors behind this trend. For passenger transport, the determining factor is the spectacular growth in car use. The number of cars on European Union (EU) roads saw an increase of three million cars each year from 1990 to 2010, and in the next decade the EU will see a further <span class="vocab-word" data-word="substantial">substantial</span> increase in its fleet.</p>
                        <p class="mb-4"><strong>B</strong> As far as goods transport is concerned, growth is due to a large extent to changes in the European economy and its system of production. In the last 20 years, as internal frontiers have been <span class="vocab-word" data-word="abolished">abolished</span>, the EU has moved from a ‘stock’ economy to a ‘flow’ economy. This <span class="vocab-word" data-word="phenomenon">phenomenon</span> has been emphasised by the <span class="vocab-word" data-word="relocation">relocation</span> of some industries, particularly those which are labour intensive, to reduce production costs, even though the production site is hundreds or even thousands of kilometres away from the final assembly plant or away from users.</p>
                        <p class="mb-4"><strong>C</strong> The strong economic growth expected in countries which are candidates for entry to the EU will also increase transport flows, in particular road <span class="vocab-word" data-word="haulage">haulage</span> traffic. In 1998, some of these countries already exported more than twice their 1990 volumes and imported more than five times their 1990 volumes. And although many candidate countries inherited a transport system which encourages rail, the distribution between modes has tipped sharply in favour of road transport since the 1990s. Between 1990 and 1998, road haulage increased by 19.4%, while during the same period rail haulage decreased by 43.5%, although – and this could benefit the enlarged EU – it is still on average at a much higher level than in existing member states.</p>
                        <p class="mb-4"><strong>D</strong> However, a new <span class="vocab-word" data-word="imperative">imperative</span>-<span class="vocab-word" data-word="sustainable">sustainable</span> development – offers an opportunity for adapting the EU’s common transport policy. This objective, agreed by the Gothenburg European Council, has to be achieved by <span class="vocab-word" data-word="integrating">integrating</span> environmental considerations into Community policies, and shifting the balance between modes of transport lies at the heart of its strategy. The ambitious objective can only be fully achieved by 2020, but proposed measures are nonetheless a first essential step towards a sustainable transport system which will ideally be in place in 30 years‟ time, that is by 2040.</p>
                        <p class="mb-4"><strong>E</strong> In 1998, energy consumption in the transport sector was to blame for 28% of emissions of CO2, the leading greenhouse gas. According to the latest estimates, if nothing is done to reverse the traffic growth trend, CO emissions from transport can be expected to increase by around 50% to 1,113 billion tonnes by 2020， compared with the 739 billion tonnes recorded in 1990. Once again, road transport is the main <span class="vocab-word" data-word="culprit">culprit</span> since it alone accounts for 84% of the CO2 emissions <span class="vocab-word" data-word="attributable">attributable</span> to transport. Using alternative fuels and improving energy efficiency is thus both an ecological necessity and a technological challenge.</p>
                        <p class="mb-4"><strong>F</strong> At the same time greater efforts must be made to achieve a modal shift. Such a change cannot be achieved overnight, all the less so after over half a century of constant <span class="vocab-word" data-word="deterioration">deterioration</span> in favour of road. This has reached such a pitch that today rail freight services are facing <span class="vocab-word" data-word="marginalisation">marginalisation</span>, with just 8% of market share, and with international goods trains struggling along at an average speed of 18km/h. Three possible options have emerged.</p>
                        <p class="mb-4"><strong>G</strong> The first approach would consist of focusing on road transport solely through pricing. This option would not be accompanied by complementary measures in the other modes of transport. In the short term it might curb the growth in road transport through the better loading ratio of goods vehicles and occupancy rates of passenger vehicles expected as a result of the increase in the price of transport. However, the lack of measures available to <span class="vocab-word" data-word="revitalise">revitalise</span> other modes of transport would make it impossible for more sustainable modes of transport to take up the baton.</p>
                        <p class="mb-4"><strong>H</strong> The second approach also concentrates on road transport pricing but is accompanied by measures to increase the efficiency of the other modes (better quality of services, logistics, technology). However, this approach does not include investment in new infrastructure, nor does it guarantee better regional <span class="vocab-word" data-word="cohesion">cohesion</span>. It could help to achieve greater uncoupling than the first approach, but road transport would keep the lion’s share of the market and continue to concentrate on <span class="vocab-word" data-word="saturated">saturated</span> arteries, despite being the most polluting of the modes. It is therefore not enough to guarantee the necessary shift of the balance.</p>
                        <p class="mb-4"><strong>I</strong> The third approach, which is not new, comprises a series of measures ranging from pricing to revitalising alternative modes of transport and targeting investment in the trans-European network. This <span class="vocab-word" data-word="integrated">integrated</span> approach would allow the market shares of the other modes to return to their 1998 levels and thus make a shift of balance. It is far more ambitious than it looks, bearing in mind the historical imbalance in favour of roads for the last fifty years, but would achieve a marked break in the link between road transport growth and economic growth, without placing restrictions on the mobility of people and goods.</p>
                    `,
                    questions: `
                        <h4 class="font-bold mb-2">Questions 14-21</h4>
                        <p class="mb-4">Reading Passage 2 has nine paragraphs, A-I. Choose the correct heading for paragraphs A-E and G-I from the list of headings below.</p>
                        <div class="p-4 border rounded-lg bg-gray-50 mb-4">
                            <p class="font-bold mb-2">List of Headings</p>
                            <p><strong>i</strong> A fresh and important long-term goal</p>
                            <p><strong>ii</strong> Charging for roads and improving other transport methods</p>
                            <p><strong>iii</strong> Changes affecting the distances goods may be transported</p>
                            <p><strong>iv</strong> Taking all the steps necessary to change transport patterns</p>
                            <p><strong>v</strong> The environmental costs of road transport</p>
                            <p><strong>vi</strong> The escalating cost of rail transport</p>
                            <p><strong>vii</strong> The need to achieve transport rebalance</p>
                            <p><strong>viii</strong> The rapid growth of private transport</p>
                            <p><strong>ix</strong> Plans to develop major road networks</p>
                            <p><strong>x</strong> Restricting road use through charging policies alone</p>
                            <p><strong>xi</strong> Transport trends in countries awaiting EU admission</p>
                        </div>
                        <div class="space-y-3 p-4 border rounded-lg bg-white mb-6">
                            <p><strong>14</strong> Paragraph <strong>A</strong> <input type="text" id="q14" data-q="14" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>15</strong> Paragraph <strong>B</strong> <input type="text" id="q15" data-q="15" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>16</strong> Paragraph <strong>C</strong> <input type="text" id="q16" data-q="16" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>17</strong> Paragraph <strong>D</strong> <input type="text" id="q17" data-q="17" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>18</strong> Paragraph <strong>E</strong> <input type="text" id="q18" data-q="18" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>19</strong> Paragraph <strong>G</strong> <input type="text" id="q19" data-q="19" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>20</strong> Paragraph <strong>H</strong> <input type="text" id="q20" data-q="20" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>21</strong> Paragraph <strong>I</strong> <input type="text" id="q21" data-q="21" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                        </div>
                        <h4 class="font-bold mb-2">Questions 22-26</h4>
                        <p class="mb-4">Do the following statements agree with the information given in Reading Passage 2? Write <strong>TRUE</strong>, <strong>FALSE</strong>, or <strong>NOT GIVEN</strong>.</p>
                        <div class="space-y-3 p-4 border rounded-lg bg-white">
                            <p><strong>22</strong> The need for transport is growing, despite technological developments. <input type="text" id="q22" data-q="22" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>23</strong> To reduce production costs, some industries have been moved closer to their relevant consumers. <input type="text" id="q23" data-q="23" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>24</strong> Cars are prohibitively expensive in some EU candidate countries. <input type="text" id="q24" data-q="24" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>25</strong> The Gothenburg European Council was set up 30 years ago. <input type="text" id="q25" data-q="25" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>26</strong> By the end of this decade, CO2 emissions from transport are predicted to reach 739 billion tonnes. <input type="text" id="q26" data-q="26" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                        </div>
                    `
                },
                {
                    title: "Passage 3",
                    passage: `
                        <h3 class="text-xl font-bold mb-4">The psychology of innovation</h3>
                        <p class="mb-4"><em>Why are so few companies truly innovative?</em></p>
                        <p class="mb-4">Innovation is key to business survival, and companies put <span class="vocab-word" data-word="substantial">substantial</span> resources into inspiring employees to develop new ideas. There are, nevertheless, people working in luxurious, state-of-the-art centres designed to <span class="vocab-word" data-word="stimulate">stimulate</span> innovation who find that their environment doesn’t make them feel at all creative. And there are those who don’t have a budget, or much space, but who innovate successfully.</p>
                        <p class="mb-4">For Robert B. Cialdini, Professor of Psychology at Arizona State University, one reason that companies don’t succeed as often as they should is that innovation starts with <span class="vocab-word" data-word="recruitment">recruitment</span>. Research shows that the fit between an employee’s values and a company’s values makes a difference to what contribution they make and whether, two years after they join, they’re still at the company. Studies at Harvard Business School show that, although some individuals may be more creative than others, almost every individual can be creative in the right circumstances.</p>
                        <p class="mb-4">One of the most famous photographs in the story of rock’n’roll emphasises Ciaidini’s views. The 1956 picture of singers Elvis Presley, Carl Perkins, Johnny Cash and Jerry Lee Lewis jamming at a piano in Sun Studios in Memphis tells a hidden story. Sun’s ‘million-dollar quartet’ could have been a quintet. Missing from the picture is Roy Orbison’ a greater natural singer than Lewis, Perkins or Cash. Sam Phillips, who owned Sun, wanted to revolutionise popular music with songs that fused black and white music, and country and blues. Presley, Cash, Perkins and Lewis <span class="vocab-word" data-word="instinctively">instinctively</span> understood Phillips’s ambition and believed in it. Orbison wasn’t inspired by the goal, and only ever achieved one hit with the Sun label.</p>
                        <p class="mb-4">The value fit matters, says Cialdini, because innovation is, in part, a process of change, and under that pressure we, as a species, behave differently, ‘When things change, we are hard-wired to play it safe.’ Managers should therefore adopt an approach that appears <span class="vocab-word" data-word="counterintuitive">counterintuitive</span> -they should explain what stands to be lost if the company fails to seize a particular opportunity. Studies show that we <span class="vocab-word" data-word="invariably">invariably</span> take more gambles when threatened with a loss than when offered a reward.</p>
                        <p class="mb-4">Managing innovation is a delicate art. It’s easy for a company to be pulled in conflicting directions as the marketing, product development, and finance departments each get different feedback from different sets of people. And without a system which ensures <span class="vocab-word" data-word="collaborative">collaborative</span> exchanges within the company, it’s also easy for small ‘pockets of innovation’ to disappear. Innovation is a contact sport. You can’t brief people just by saying, ‘We’re going in this direction and I’m going to take you with me.’</p>
                        <p class="mb-4">Cialdini believes that this ‘follow-the-leader syndrome, is dangerous, not least because it encourages bosses to go it alone. ‘It’s been scientifically proven that three people will be better than one at solving problems, even if that one person is the smartest person in the field.’ To prove his point, Cialdini cites an interview with molecular biologist James Watson. Watson, together with Francis Crick, discovered the structure of DNA, the genetic information carrier of all living organisms. ‘When asked how they had cracked the code ahead of an array of highly accomplished rival investigators, he said something that stunned me. He said he and Crick had succeeded because they were aware that they weren’t the most intelligent of the scientists pursuing the answer. The smartest scientist was called Rosalind Franklin who, Watson said, “was so intelligent she rarely sought advice”.’</p>
                        <p class="mb-4">Teamwork taps into one of the basic drivers of human behaviour. ‘The principle of social proof is so <span class="vocab-word" data-word="pervasive">pervasive</span> that we don’t even recognise it,’ says Cialdini. ‘If your project is being resisted, for example, by a group of veteran employees, ask another old-timer to speak up for it.’ Cialdini is not alone in <span class="vocab-word" data-word="advocating">advocating</span> this strategy. Research shows that peer power, used horizontally not vertically, is much more powerful than any boss’s speech.</p>
                        <p class="mb-4">Writing, visualising and prototyping can stimulate the flow of new ideas. Cialdini cites scores of research papers and historical events that prove that even something as simple as writing deepens every individual’s <span class="vocab-word" data-word="engagement">engagement</span> in the project. It is, he says, the reason why all those competitions on breakfast cereal packets encouraged us to write in saying, in no more than 10 words: ‘I like Kellogg’s Com Flakes because... .’ The very act of writing makes us more likely to believe it.</p>
                        <p class="mb-4">Authority doesn’t have to <span class="vocab-word" data-word="inhibit">inhibit</span> innovation but it often does. The wrong kind of leadership will lead to what Cialdini calls ‘captainitis, the regrettable tendency of team members to opt out of team responsibilities that are properly theirs’. He calls it captainitis because, he says, ‘crew members of multipilot aircraft exhibit a sometimes deadly <span class="vocab-word" data-word="passivity">passivity</span> when the flight captain makes a clearly wrong-headed decision’. This behaviour is not, he says, unique to air travel, but can happen in any workplace where the leader is <span class="vocab-word" data-word="overbearing">overbearing</span>.</p>
                        <p class="mb-4">At the other end of the scale is the 1980s Memphis design <span class="vocab-word" data-word="collective">collective</span>, a group of young designers for whom ‘the only rule was that there were no rule’. This environment encouraged a free <span class="vocab-word" data-word="interchange">interchange</span> of ideas, which led to more creativity with form, function, colour and materials that revolutionised attitudes to furniture design.</p>
                        <p class="mb-4">Many theorists believe the ideal boss should lead from behind, taking pride in collective accomplishment and giving credit where it is due. Cialdini says: ‘Leaders should encourage everyone to contribute and simultaneously assure all concerned that every recommendation is important to making the right decision and will be given full attention.’ The frustrating thing about innovation is that there are many approaches, but no magic formula. However, a manager who wants to create a truly innovative culture can make their job a lot easier by recognising these psychological realities.</p>
                    `,
                    questions: `
                        <h4 class="font-bold mb-2">Questions 27-30</h4>
                        <p class="mb-4">Choose the correct letter, <strong>A, B, C or D</strong>.</p>
                        <div class="space-y-4 p-4 border rounded-lg bg-white mb-6">
                            <div class="q-item">
                                <p><strong>27</strong> The example of the ‘million-dollar quartet’ underlines the writer’s point about</p>
                                <label class="block"><input type="radio" name="q27" value="A"> A recognising talent.</label>
                                <label class="block"><input type="radio" name="q27" value="B"> B working as a team.</label>
                                <label class="block"><input type="radio" name="q27" value="C"> C having a shared objective.</label>
                                <label class="block"><input type="radio" name="q27" value="D"> D being an effective leader.</label>
                            </div>
                             <div class="q-item">
                                <p><strong>28</strong> James Watson suggests that he and Francis Crick won the race to discover the DNA code because they</p>
                                <label class="block"><input type="radio" name="q28" value="A"> A were conscious of their own limitations.</label>
                                <label class="block"><input type="radio" name="q28" value="B"> B brought complementary skills to their partnership.</label>
                                <label class="block"><input type="radio" name="q28" value="C"> C were determined to outperform their brighter rivals.</label>
                                <label class="block"><input type="radio" name="q28" value="D"> D encouraged each other to realise their joint ambition.</label>
                            </div>
                            <div class="q-item">
                                <p><strong>29</strong> The writer mentions competitions on breakfast cereal packets as an example of how to</p>
                                <label class="block"><input type="radio" name="q29" value="A"> A inspire creative thinking.</label>
                                <label class="block"><input type="radio" name="q29" value="B"> B generate concise writing.</label>
                                <label class="block"><input type="radio" name="q29" value="C"> C promote loyalty to a group.</label>
                                <label class="block"><input type="radio" name="q29" value="D"> D strengthen commitment to an idea.</label>
                            </div>
                            <div class="q-item">
                                <p><strong>30</strong> In the last paragraph, the writer suggests that it is important for employees to</p>
                                <label class="block"><input type="radio" name="q30" value="A"> A be aware of their company’s goals.</label>
                                <label class="block"><input type="radio" name="q30" value="B"> B feel that their contributions are valued.</label>
                                <label class="block"><input type="radio" name="q30" value="C"> C have respect for their co-workers‟ achievements.</label>
                                <label class="block"><input type="radio" name="q30" value="D"> D understand why certain management decisions are made.</label>
                            </div>
                        </div>
                        <h4 class="font-bold mb-2">Questions 31-35</h4>
                        <p class="mb-4">Complete each sentence with the correct ending, <strong>A-G</strong>, below.</p>
                        <div class="p-4 border rounded-lg bg-gray-50 mb-4">
                            <p><strong>A</strong> take chances.</p>
                            <p><strong>B</strong> share their ideas.</p>
                            <p><strong>C</strong> become competitive.</p>
                            <p><strong>D</strong> get promotion.</p>
                            <p><strong>E</strong> avoid risk.</p>
                            <p><strong>F</strong> ignore their duties.</p>
                            <p><strong>G</strong> remain in their jobs.</p>
                        </div>
                        <div class="space-y-3 p-4 border rounded-lg bg-white mb-6">
                            <p><strong>31</strong> Employees whose values match those of their employers are more likely to <input type="text" id="q31" data-q="31" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>32</strong> At times of change, people tend to <input type="text" id="q32" data-q="32" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>33</strong> If people are aware of what they might lose, they will often <input type="text" id="q33" data-q="33" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>34</strong> People working under a dominant boss are liable to <input type="text" id="q34" data-q="34" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                            <p><strong>35</strong> Employees working in organisations with few rules are more likely to <input type="text" id="q35" data-q="35" class="border border-gray-300 rounded px-2 py-1 w-16"></p>
                        </div>
                        <h4 class="font-bold mb-2">Questions 36-40</h4>
                        <p class="mb-4">Do the following statements agree with the claims of the writer in Reading Passage 3? Write <strong>YES</strong>, <strong>NO</strong>, or <strong>NOT GIVEN</strong>.</p>
                        <div class="space-y-3 p-4 border rounded-lg bg-white">
                            <p><strong>36</strong> The physical surroundings in which a person works play a key role in determining their creativity. <input type="text" id="q36" data-q="36" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>37</strong> Most people have the potential to be creative. <input type="text" id="q37" data-q="37" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>38</strong> Teams work best when their members are of equally matched intelligence. <input type="text" id="q38" data-q="38" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>39</strong> It is easier for smaller companies to be innovative. <input type="text" id="q39" data-q="39" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                            <p><strong>40</strong> A manager’s approval of an idea is more persuasive than that of a colleague. <input type="text" id="q40" data-q="40" class="border border-gray-300 rounded px-2 py-1 w-32"></p>
                        </div>
                    `
                }
            ]
        }
    };

    const answers = {
        // Reading Passage 1
        q1: "false", q2: "true", q3: "not given", q4: "not given", q5: "true",
        q6: "pavilions", q7: "drought", q8: "tourists", q9: "earthquake",
        q10: "four sides", q11: "tank", q12: "verandas", q13: "underwater",
        // Reading Passage 2
        q14: "viii", q15: "iii", q16: "xi", q17: "i", q18: "v", q19: "x",
        q20: "ii", q21: "iv", q22: "true", q23: "false", q24: "not given",
        q25: "not given", q26: "false",
        // Reading Passage 3
        q27: "C", q28: "A", q29: "D", q30: "B",
        q31: "G", q32: "E", q33: "A", q34: "F", q35: "B",
        q36: "no", q37: "yes", q38: "not given", q39: "not given", q40: "no"
    };

    // --- NEW: Explanations for Cambridge 10, Test 1 ---
    const explanations = {
        // Reading Passage 1
        q1: "The answer is FALSE. Paragraph 2 states that stepwells are '<strong>Unique to the region</strong>' (north-western India).",
        q2: "The answer is TRUE. Paragraph 2 mentions that 'During their heyday, they were places of <strong>gathering</strong>, of <strong>leisure</strong>, of <strong>relaxation</strong> and of <strong>worship</strong>', which are all in addition to water collection.",
        q3: "The answer is NOT GIVEN. Paragraph 2 says 'a few also survive in Delhi', but it never compares their attractiveness to those in Gujarat or Rajasthan.",
        q4: "The answer is NOT GIVEN. The passage describes the steps but provides no information about how long it took to build them.",
        q5: "The answer is TRUE. Paragraph 3 explains that the steps descend to the water 'as it <strong>recedes following the rains</strong>'. It adds: 'When the water level was <strong>high</strong>, the user needed only to descend a <strong>few steps</strong>... when it was <strong>low</strong>, <strong>several levels</strong> would have to be negotiated.' This shows the number of visible steps changed.",
        q6: "Paragraph 4 states: 'Built from stone and supported by pillars, they also included <strong>pavilions</strong> that <strong>sheltered</strong> visitors from the relentless <strong>heat</strong>.'",
        q7: "Paragraph 5 mentions: 'southern Rajasthan suffered an eight-year <strong>drought</strong> between 1996 and 2004.'",
        q8: "The final paragraph states: '<strong>Tourists</strong> flock to wells in far-flung corners of northwestern India to gaze in wonder...'",
        q9: "Paragraph 7 states: 'Incredibly, in January 2001, this ancient structure survived a devastating <strong>earthquake</strong>...'",
        q10: "Paragraph 8, describing Surya Kund, says it 'displays the hallmarks of stepwell architecture, including <strong>four sides</strong> of steps that descend to the bottom...'",
        q11: "Paragraph 8 states: 'It’s actually a <strong>tank</strong> (kund means reservoir or pond) rather than a well...'",
        q12: "Paragraph 10, describing Chand Baori, says: 'On the fourth side, covered <strong>verandas</strong> supported by ornate pillars overlook the steps.'",
        q13: "Paragraph 11, describing Neemrana Ki Baori, states: 'it’s nine storeys deep, with the last two levels <strong>underwater</strong>.'",
        // Reading Passage 2
        q14: "Paragraph A: 'For passenger transport, the determining factor is the <strong>spectacular growth in car use</strong>.' This matches heading <strong>viii (The rapid growth of private transport)</strong>.",
        q15: "Paragraph B: This paragraph discusses the '<strong>relocation</strong> of some industries... hundreds or even thousands of kilometres away'. This matches heading <strong>iii (Changes affecting the distances goods may be transported)</strong>.",
        q16: "Paragraph C: This paragraph focuses on 'countries which are <strong>candidates for entry to the EU</strong>' and their 'transport flows'. This matches heading <strong>xi (Transport trends in countries awaiting EU admission)</strong>.",
        q17: "Paragraph D: This paragraph introduces 'a new imperative-<strong>sustainable development</strong>' and calls it an '<strong>ambitious objective</strong>'. This matches heading <strong>i (A fresh and important long-term goal)</strong>.",
        q18: "Paragraph E: This paragraph details the 'emissions of <strong>CO2</strong>' and states 'road transport is the main <strong>culprit</strong>'. This matches heading <strong>v (The environmental costs of road transport)</strong>.",
        q19: "Paragraph G: This paragraph describes the first option: 'focusing on road transport <strong>solely through pricing</strong>.' This matches heading <strong>x (Restricting road use through charging policies alone)</strong>.",
        q20: "Paragraph H: This paragraph describes the second approach: 'also concentrates on road transport <strong>pricing but is accompanied by measures</strong> to increase the efficiency of the <strong>other modes</strong>.' This matches heading <strong>ii (Charging for roads and improving other transport methods)</strong>.",
        q21: "Paragraph I: This paragraph describes the third '<strong>integrated approach</strong>' with 'a <strong>series of measures</strong> ranging from pricing to revitalising alternative modes'. This matches heading <strong>iv (Taking all the steps necessary to change transport patterns)</strong>.",
        q22: "The answer is TRUE. Paragraph A states: 'Although modern information technologies can reduce the demand... the <strong>requirement for transport continues to increase</strong>.'",
        q23: "The answer is FALSE. Paragraph B states that industries have relocated 'hundreds or even <strong>thousands of kilometres away</strong> from the final assembly plant or away from users.' This is further, not closer.",
        q24: "The answer is NOT GIVEN. Paragraph C discusses candidate countries and their transport systems, but it never mentions the price or affordability of cars.",
        q25: "The answer is NOT GIVEN. Paragraph D mentions this council 'agreed' the objective, but it does not say when the council was 'set up'.",
        q26: "The answer is FALSE. Paragraph E states that 'CO2 emissions... can be expected to increase by around 50% to <strong>1,113 billion tonnes</strong> by 2020'. The 739 billion tonnes was the figure for 1990, not the prediction.",
        // Reading Passage 3
        q27: "The answer is C. Paragraph 3 explains that Presley, Cash, Perkins, and Lewis 'instinctively understood Phillips’s <strong>ambition</strong> and <strong>believed in it</strong>.' In contrast, 'Orbison wasn’t inspired by the <strong>goal</strong>'. The key difference was having a <strong>shared objective</strong>.",
        q28: "The answer is A. Paragraph 6 quotes Watson as saying he and Crick succeeded because 'they were <strong>aware that they weren’t the most intelligent</strong>... The smartest scientist was... Rosalind Franklin who... was so intelligent she <strong>rarely sought advice</strong>.' They were conscious of their limitations, which led them to collaborate.",
        q29: "The answer is D. Paragraph 8 explains that 'The very <strong>act of writing makes us more likely to believe it</strong>.' This is a way to <strong>strengthen commitment to an idea</strong>.",
        q30: "The answer is B. The final paragraph quotes Cialdini: 'Leaders should... assure all concerned that every recommendation is <strong>important</strong>... and will be given <strong>full attention</strong>.' This means employees should feel their contributions are valued.",
        q31: "The answer is G. Paragraph 2 links the 'fit between an employee’s values and a company’s values' to 'whether, two years after they join, they’re <strong>still at the company</strong>.' This means they are more likely to <strong>remain in their jobs</strong>.",
        q32: "The answer is E. Paragraph 4 states: 'When things change, we are hard-wired to <strong>play it safe</strong>.' This means they tend to <strong>avoid risk</strong>.",
        q33: "The answer is A. Paragraph 4 states: 'Studies show that we invariably <strong>take more gambles</strong> when threatened with a <strong>loss</strong>...'. 'Take gambles' is a synonym for <strong>take chances</strong>.",
        q34: "The answer is F. Paragraph 9 describes 'captainitis' under a 'dominant boss' as the 'regrettable tendency of team members to <strong>opt out of team responsibilities</strong> that are properly theirs'. This means they are liable to <strong>ignore their duties</strong>.",
        q35: "The answer is B. Paragraph 10 describes the Memphis design collective where 'the only rule was that there were no rule'. This environment 'encouraged a <strong>free interchange of ideas</strong>'. This means they are more likely to <strong>share their ideas</strong>.",
        q36: "The answer is NO. The first paragraph explicitly states the opposite: '...people working in luxurious, state-of-the-art centres designed to stimulate innovation... find that their <strong>environment doesn’t make them feel at all creative</strong>.'",
        q37: "The answer is YES. Paragraph 2 states: '...<strong>almost every individual can be creative</strong> in the right circumstances.'",
        q38: "The answer is NOT GIVEN. Paragraph 6 contrasts the 'smartest scientist' (Franklin) with Watson and Crick, but it never claims that teams 'work best' when members are of 'equally matched intelligence'.",
        q39: "The answer is NOT GIVEN. The passage discusses companies and innovation but never compares the innovative ability of small vs. large companies.",
        q40: "The answer is NO. Paragraph 7 argues the opposite: '...<strong>peer power</strong>, used horizontally not vertically, is <strong>much more powerful</strong> than any <strong>boss’s speech</strong>.' A colleague's (peer) approval is *more* persuasive."
    };


    // --- APPLICATION LOGIC ---
    document.addEventListener('DOMContentLoaded', () => {
        const app = {
            // State
            userAnswers: {},
            currentTab: 'reading',
            currentSection: 0,
            answersChecked: {},

            // Elements
            leftPane: document.getElementById('left-pane'),
            rightPane: document.getElementById('right-pane'),
            questionsSection: document.getElementById('questions-section'),
            splitter: document.getElementById('splitter'),
            sectionTabsContainer: document.getElementById('section-tabs'),
            highlightTooltip: document.getElementById('highlight-tooltip'),

            init() {
                this.setupEventListeners();
                this.loadContent();
                this.initSplitter();
                this.initHighlighter();
                this.initVocabulary(); // <-- ADDED
            },

            setupEventListeners() {
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => this.switchTab(e.target.dataset.tab));
                });
                // Use event delegation for dynamically added elements
                document.body.addEventListener('input', (e) => this.saveAnswer(e));
                document.body.addEventListener('click', (e) => {
                    if (e.target.classList.contains('check-exercise-btn')) {
                        this.checkExerciseAnswers(e.target.dataset.exercise, e.target.dataset.range);
                    }
                });
            },
            
            saveAnswer(e) {
                if (e.target.id || e.target.name) {
                    const id = e.target.id || e.target.name;
                     if (e.target.type === 'radio') {
                        if (e.target.checked) {
                            this.userAnswers[id] = e.target.value;
                        }
                    } else {
                         this.userAnswers[id] = e.target.value;
                    }
                }
            },

            restoreAnswers() {
                for (const qId in this.userAnswers) {
                    const value = this.userAnswers[qId];
                    const textInput = document.getElementById(qId);
                    if (textInput) {
                        textInput.value = value;
                    } else {
                        const radioInputs = document.querySelectorAll(`input[name="${qId}"]`);
                        radioInputs.forEach(radio => {
                            if (radio.value === value) {
                                radio.checked = true;
                            }
                        });
                    }
                }
            },

            checkExerciseAnswers(exerciseKey, range) {
                if (this.answersChecked[exerciseKey]) {
                    this.answersChecked[exerciseKey] = false;
                    this.loadContent();
                    return;
                }
                this.answersChecked[exerciseKey] = true;
                this.showExerciseAnswers(exerciseKey, range);
            },

            switchTab(tabName) {
                this.currentTab = tabName;
                this.currentSection = 0;
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.tab === tabName);
                });
                this.loadContent();
            },
            
            switchSection(sectionIndex) {
                 this.currentSection = sectionIndex;
                 this.loadContent();
            },

            loadContent() {
                const data = testData[this.currentTab];
                if (!data) return;
                const sectionData = data.sections[this.currentSection];

                this.leftPane.innerHTML = `<div class="reading-passage">${sectionData.passage}</div>`;
                this.questionsSection.innerHTML = sectionData.questions;

                this.sectionTabsContainer.innerHTML = data.sections.map((sec, index) =>
                    `<button class="section-btn ${index === this.currentSection ? 'active' : ''}" data-section-index="${index}">${sec.title}</button>`
                ).join('');
                
                this.sectionTabsContainer.querySelectorAll('.section-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => this.switchSection(parseInt(e.target.dataset.sectionIndex, 10)));
                });
                
                this.restoreAnswers();
                this.addReadingExerciseButtons();

                const sectionKey = `${this.currentTab}_${this.currentSection}`;
                const exercises = this.getReadingExerciseTypes();
                exercises.forEach(ex => {
                    const exerciseKey = `${sectionKey}_${ex.type}`;
                    if(this.answersChecked[exerciseKey]) {
                        this.showExerciseAnswers(exerciseKey, `${ex.startQ}-${ex.endQ}`);
                    }
                });
            },
            
            getReadingExerciseTypes() {
                const exerciseTypes = {
                    0: [ // Passage 1
                        { type: 'true_false', startQ: 1, endQ: 5, title: 'True/False/Not Given (Q1-5)' },
                        { type: 'short_answer', startQ: 6, endQ: 8, title: 'Short Answer Questions (Q6-8)' },
                        { type: 'table_completion', startQ: 9, endQ: 13, title: 'Table Completion (Q9-13)' }
                    ],
                    1: [ // Passage 2
                        { type: 'heading_matching', startQ: 14, endQ: 21, title: 'Heading Matching (Q14-21)' },
                        { type: 'true_false_2', startQ: 22, endQ: 26, title: 'True/False/Not Given (Q22-26)' }
                    ],
                    2: [ // Passage 3
                        { type: 'multiple_choice', startQ: 27, endQ: 30, title: 'Multiple Choice (Q27-30)' },
                        { type: 'matching', startQ: 31, endQ: 35, title: 'Matching Sentence Endings (Q31-35)' },
                        { type: 'yes_no', startQ: 36, endQ: 40, title: 'Yes/No/Not Given (Q36-40)' }
                    ]
                };
                return exerciseTypes[this.currentSection] || [];
            },

            addReadingExerciseButtons() {
                const sectionKey = `${this.currentTab}_${this.currentSection}`;
                const exercises = this.getReadingExerciseTypes();

                exercises.forEach(exercise => {
                    const exerciseKey = `${sectionKey}_${exercise.type}`;
                    const isChecked = this.answersChecked[exerciseKey];
                    // --- MODIFIED BUTTON TEXT ---
                    const buttonText = isChecked ? 'Hide Explanations' : 'Check Answers & Explain'; 
                    const buttonColor = isChecked ? 'bg-gray-600 hover:bg-gray-700' : 'bg-blue-600 hover:bg-blue-700';

                    const buttonContainer = document.createElement('div');
                    buttonContainer.className = 'mt-6 p-4 bg-gray-100 rounded-lg text-center';
                    buttonContainer.innerHTML = `
                        <p class="font-semibold mb-2">${exercise.title}</p>
                        <button class="check-exercise-btn ${buttonColor} text-white font-bold py-2 px-6 rounded-md transition-colors" data-exercise="${exerciseKey}" data-range="${exercise.startQ}-${exercise.endQ}">
                            ${buttonText}
                        </button>
                    `;

                    // Find the block containing the questions for this exercise to append the button
                    const firstQuestionInput = document.getElementById(`q${exercise.startQ}`) || document.querySelector(`input[name="q${exercise.startQ}"]`);
                    if (firstQuestionInput) {
                        const questionBlock = firstQuestionInput.closest('.space-y-3, .space-y-4, .mb-6');
                        if (questionBlock) {
                            questionBlock.appendChild(buttonContainer);
                        } else {
                            this.questionsSection.appendChild(buttonContainer);
                        }
                    } else {
                        this.questionsSection.appendChild(buttonContainer);
                    }
                });
            },
            
            // --- REPLACED/MODIFIED FUNCTION ---
            showExerciseAnswers(exerciseKey, range) {
                const [startQ, endQ] = range.split('-').map(Number);

                for (let i = startQ; i <= endQ; i++) {
                    const qId = `q${i}`;
                    const inputs = document.querySelectorAll(`#${qId}, input[name="${qId}"]`);
                    if (inputs.length === 0) continue;

                    const userAnswer = (this.userAnswers[qId] || "").toLowerCase().trim();
                    const correctAnswer = (answers[qId] || "").toLowerCase();
                    
                    let isCorrect = false;
                    if(correctAnswer.includes('/')) {
                        isCorrect = correctAnswer.split('/').some(ans => ans.trim() === userAnswer);
                    } else {
                        isCorrect = userAnswer === correctAnswer;
                    }
                    
                    const inputElement = document.getElementById(qId) || document.querySelector(`input[name="${qId}"]:checked`);
                    const firstInput = inputs[0];

                    // Style correct/incorrect answers
                    if (inputElement) { // For text inputs with answers or checked radio buttons
                         const elementToStyle = inputElement.type === 'radio' ? inputElement.closest('label') : inputElement;
                         elementToStyle.classList.add(isCorrect ? 'correct-answer' : 'incorrect-answer');
                         if(inputElement.type === 'text') {
                             inputElement.style.backgroundColor = isCorrect ? '#dcfce7' : '#fef2f2';
                             if (!isCorrect) inputElement.value = `${this.userAnswers[qId] || ''}➜ ${answers[qId]}`;
                         }
                    } else if (firstInput.type === 'text') { // For empty text inputs
                        firstInput.classList.add('incorrect-answer');
                        firstInput.style.backgroundColor = '#fef2f2';
                        firstInput.placeholder = `Correct: ${answers[qId]}`;
                    }
                    
                     // For radio buttons, always highlight the correct answer if the user was wrong
                     if (firstInput.type === 'radio' && !isCorrect) {
                         const correctRadio = document.querySelector(`input[name="${qId}"][value="${answers[qId].toUpperCase()}"]`);
                         if(correctRadio) correctRadio.closest('label').classList.add('correct-answer');
                    }
                    
                    // --- ADDED EXPLANATION LOGIC ---
                    const explanationText = explanations[qId];
                    if (explanationText) {
                        const explanationBox = document.createElement('div');
                        explanationBox.className = 'explanation-box p-3 mt-2 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-800';
                        explanationBox.innerHTML = `<strong>Explanation:</strong> ${explanationText}`;

                        const inputParent = firstInput.closest('.q-item, p, tr'); // Added 'tr' for table
                        if (inputParent) {
                             if (inputParent.tagName === 'TR') {
                                // For tables, find the last cell and append
                                const cells = inputParent.querySelectorAll('td');
                                if(cells.length > 0) cells[cells.length - 1].appendChild(explanationBox);
                             } else {
                                inputParent.after(explanationBox);
                             }
                        }
                    }
                }

                // Update button text
                const btn = document.querySelector(`button[data-exercise="${exerciseKey}"]`);
                if (btn) {
                    btn.textContent = 'Hide Explanations';
                    btn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                    btn.classList.add('bg-gray-600', 'hover:bg-gray-700');
                }
            },

            // --- NEW FUNCTION ---
            initVocabulary() {
                const modal = document.getElementById('vocab-modal');
                const closeBtn = document.getElementById('close-vocab-modal');
                const playBtn = document.getElementById('play-audio-btn');
                const wordEl = document.getElementById('vocab-word');
                const meaningEl = document.getElementById('vocab-meaning');
                const pronunciationEl = document.getElementById('vocab-pronunciation-text');
                let utterance = null;

                this.leftPane.addEventListener('click', (e) => {
                    if (e.target.classList.contains('vocab-word')) {
                        const word = e.target.dataset.word;
                        const vocabData = vocabulary[word];
                        if (vocabData) {
                            wordEl.textContent = word;
                            meaningEl.textContent = vocabData.meaning;
                            pronunciationEl.textContent = vocabData.phonetic || '';
                            
                            // Use SpeechSynthesis API for pronunciation
                            if ('speechSynthesis' in window) {
                                utterance = new SpeechSynthesisUtterance(word);
                                utterance.lang = 'en-US';
                                playBtn.style.display = 'flex';
                            } else {
                                // Hide button if API not supported
                                playBtn.style.display = 'none';
                            }

                            modal.classList.remove('hidden');
                        }
                    }
                });
                
                playBtn.addEventListener('click', () => {
                    if (utterance && window.speechSynthesis) {
                        // Cancel any previous speech before starting a new one
                        window.speechSynthesis.cancel();
                        window.speechSynthesis.speak(utterance);
                    }
                });

                const closeModal = () => {
                    modal.classList.add('hidden');
                    if (window.speechSynthesis) {
                        window.speechSynthesis.cancel(); // Stop speaking when modal closes
                    }
                    utterance = null;
                };

                closeBtn.addEventListener('click', closeModal);
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal();
                    }
                });
            },

            initSplitter() {
                let isDragging = false;
                const contentPanes = document.getElementById('content-panes');

                this.splitter.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    isDragging = true;
                    document.body.style.cursor = 'col-resize';
                });

                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    e.preventDefault();
                    const containerRect = contentPanes.getBoundingClientRect();
                    const newLeftWidth = e.clientX - containerRect.left;
                    if (newLeftWidth > 100 && newLeftWidth < containerRect.width - 100) {
                        const newLeftPercent = (newLeftWidth / containerRect.width) * 100;
                        contentPanes.style.gridTemplateColumns = `${newLeftPercent}% 5px 1fr`;
                    }
                });

                document.addEventListener('mouseup', () => {
                    isDragging = false;
                    document.body.style.cursor = 'default';
                });
            },

            initHighlighter() {
                document.body.addEventListener('mouseup', (e) => {
                    if (e.target.closest && e.target.closest('.highlight-tooltip')) return;

                    const selection = window.getSelection();
                    const selectedText = selection.toString().trim();

                    if (selectedText.length > 0) {
                        const range = selection.getRangeAt(0);
                        if (!this.leftPane.contains(range.commonAncestorContainer) && !this.rightPane.contains(range.commonAncestorContainer)) {
                           this.highlightTooltip.style.display = 'none';
                           return;
                        }

                        this.highlightTooltip.style.left = `${e.pageX}px`;
                        this.highlightTooltip.style.top = `${e.pageY - 35}px`;
                        this.highlightTooltip.style.display = 'block';

                        this.highlightTooltip.onclick = () => {
                            const mark = document.createElement('mark');
                            try {
                                range.surroundContents(mark);
                            } catch (ex) { console.warn("Could not highlight selection."); }
                            selection.removeAllRanges();
                            this.highlightTooltip.style.display = 'none';
                        };
                    } else {
                        this.highlightTooltip.style.display = 'none';
                    }
                });

                document.body.addEventListener('mousedown', (e) => {
                   if (!e.target.closest('.highlight-tooltip')) {
                        this.highlightTooltip.style.display = 'none';
                   }
                });
            }
        };

        app.init();
    });
</script>

</body>
</html>
