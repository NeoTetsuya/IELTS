<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Passage: Speed Reading</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .prose p {
            margin-bottom: 1em;
        }
        #highlight-popup {
            position: absolute;
            display: none;
            z-index: 100;
        }
        mark {
            background-color: rgba(253, 224, 71, 0.6); /* yellow-300 with opacity */
            cursor: pointer;
            border-radius: 2px;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Highlight Popup Button -->
    <div id="highlight-popup" class="bg-gray-800 text-white text-sm font-semibold py-1 px-3 rounded-md shadow-lg">
        <button id="highlight-btn">Highlight</button>
    </div>

    <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden">
        <div class="p-6 md:p-10">
            <!-- Reading Passage -->
            <div class="prose max-w-none text-justify" id="passage">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Speed reading</h2>
                <h3 class="text-xl font-semibold text-gray-600 mb-4">What is speed reading, and why do we need it?</h3>
                <p><strong>A.</strong> Speed reading is not just about reading fast. It is also about how much information you can remember when you have finished reading. The World Championship Speed-Reading Competition says that its top competitors average between 1,000 and 2,000 words a minute. But they must remember at least 50 percent of this in order to qualify for the competition.</p>
                <p><strong>B.</strong> Nowadays, speed reading has become an essential skill in any environment where people have to master a large volume of information. Professional workers need reading skills to help them get through many documents every day, while students under pressure to deal with assignments may feel they have to read more and read faster all the time.</p>
                <p><strong>C.</strong> Although there are various methods to increase reading speed, the trick is deciding what information you want first. For example, if you only want a rough outline of an issue, then you can skim the material quickly and extract the key facts. However, if you need to understand every detail in a document, then you must read it slowly enough to understand this.</p>
                <p><strong>D.</strong> Even when you know how to ignore irrelevant detail, there are other improvements you can make to your reading style which will increase your speed. For example, most people can read much faster if they read silently. Reading each word aloud takes time for the information to make a complete circuit in your brain before being pronounced. Some researchers believe that as long as the first and last letters are in place, the brain can still understand the arrangement of the other letters in the word because it logically puts each piece into place.</p>
                <p><strong>E.</strong> Chunking is another important method. Most people learn to read either letter by letter or word by word. As you improve, this changes. You will probably find that you are fixing your eyes on a block of words, then moving your eyes to the next block of words, and so on. You are reading blocks of words at a time, not individual words one by one. You may also notice that you do not always go from one block to the next: sometimes you may move back to a previous block if you are unsure about something.</p>
                <p><strong>F.</strong> A skilled reader will read a lot of words in each block. He or she will only look at each block for an instant and will then move on. Only rarely will the reader's eyes skip back to a previous block of words. This reduces the amount of work that the reader's eyes have to do. It also increases the volume of information that can be taken in over a given period of time.</p>
                <p><strong>G.</strong> On the other hand, a slow reader will spend a lot of time reading small blocks of words. He or she will skip back often, losing the flow and structure of the text, and muddling their overall understanding of the subject. This irregular eye movement quickly makes the reader tired. Poor readers tend to dislike reading because they feel it is difficult to concentrate and comprehend written information.</p>
                <p><strong>H.</strong> The best tip anyone can have to improve their reading speed is to practise. In order to do this effectively, a person must be engaged in the material and want to know more. If you find yourself constantly having to re-read the same paragraph, you may want to switch to reading material that grabs your attention. If you enjoy what you are reading, you will make quicker progress.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Highlighter Logic (Popup version) ---
            const highlightPopup = document.getElementById('highlight-popup');
            const highlightBtn = document.getElementById('highlight-btn');
            let savedRange;

            function showHighlightPopup() {
                const selection = window.getSelection();
                if (!selection || !selection.rangeCount || selection.isCollapsed) {
                    highlightPopup.style.display = 'none';
                    return;
                }

                const range = selection.getRangeAt(0);
                // Ensure selection is within the passage
                if (!range.commonAncestorContainer.parentElement.closest('.prose')) {
                    highlightPopup.style.display = 'none';
                    return;
                }
                
                savedRange = range.cloneRange();
                const rect = range.getBoundingClientRect();
                highlightPopup.style.display = 'block';
                // Position the popup above the selection
                highlightPopup.style.left = `${rect.left + window.scrollX + (rect.width / 2) - (highlightPopup.offsetWidth / 2)}px`;
                highlightPopup.style.top = `${rect.top + window.scrollY - highlightPopup.offsetHeight - 5}px`;
            }

            // Show popup on text selection
            document.addEventListener('mouseup', showHighlightPopup);
            document.addEventListener('keyup', showHighlightPopup); 

            // Highlight the text when the button is clicked
            highlightBtn.addEventListener('click', () => {
                if (savedRange) {
                    const mark = document.createElement('mark');
                    try {
                        savedRange.surroundContents(mark);
                        savedRange = null; // Clear the saved range
                        highlightPopup.style.display = 'none';
                    } catch (e) {
                        console.warn("Could not wrap selection. This can happen if the selection crosses paragraph boundaries.", e);
                    }
                }
            });

            // Hide popup when scrolling or clicking away
            window.addEventListener('scroll', () => highlightPopup.style.display = 'none');
            document.body.addEventListener('mousedown', (e) => {
                // Hide if clicking anywhere but the popup itself or a highlighted mark
                if (!highlightPopup.contains(e.target) && e.target.tagName !== 'MARK') {
                    highlightPopup.style.display = 'none';
                }
            });

            // Remove highlight by clicking on it
            document.body.addEventListener('click', (e) => {
                if (e.target.tagName === 'MARK') {
                    const parent = e.target.parentNode;
                    // Move the content of the mark tag out, then remove the empty mark tag
                    while (e.target.firstChild) {
                        parent.insertBefore(e.target.firstChild, e.target);
                    }
                    parent.removeChild(e.target);
                    // Join adjacent text nodes for clean HTML
                    parent.normalize();
                }
            });
        });
    </script>
</body>
</html>
